---
// Importar el layout y componentes necesarios
import MainLayout from '../components/layout/MainLayout.astro';
import Dashboard2 from '../components/dashboard/Dashboard2';

// No verificamos autenticaci√≥n en desarrollo - siempre permitir acceso
const userRole = 'administrador';

// T√≠tulo para la p√°gina
const title = 'Dashboard (Nueva Versi√≥n)';
---

<MainLayout title={title} userRole={userRole} currentPath="/dashboard-new">
  <div class="bg-blue-100 p-4 mb-6 rounded-lg border border-blue-300">
    <h2 class="text-xl font-bold text-blue-800 mb-2">‚ö†Ô∏è Versi√≥n Nueva del Dashboard</h2>
    <p class="text-blue-700">
      Esta es la nueva implementaci√≥n del dashboard que soluciona los problemas de hidrataci√≥n y mejora el rendimiento.
    </p>
  </div>

  <!-- Componente React del Dashboard - Renderizado solo en el cliente para evitar errores de hidrataci√≥n -->
  <Dashboard2 client:only="react" />
</MainLayout>

<script>
  // Script para verificar que el componente se est√° cargando correctamente
  console.log('üîç P√°gina dashboard-new.astro cargada');
  
  // Verificar despu√©s de 2 segundos si el componente React se ha montado
  setTimeout(() => {
    const dashboardElement = document.querySelector('div[data-reactroot]');
    if (dashboardElement) {
      console.log('‚úÖ Componente Dashboard2 montado correctamente');
    } else {
      console.log('‚ùå Componente Dashboard2 no se ha montado');
    }
  }, 2000);
</script>
