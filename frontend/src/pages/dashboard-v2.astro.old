---
// [DASHBOARDV2] Página Astro para el nuevo Dashboard V2
// Importar el layout
import MainLayout from '../components/layout/MainLayout.astro';

// Importar el nuevo componente DashboardV2
import DashboardV2 from '../components/dashboardv2/DashboardV2';

// Importar funciones de i18n
import { getCurrentLanguage } from '../i18n/config';

// Definir rol de usuario (esto eventualmente vendrá de la autenticación)
const userRole = "administrador"; // Simulación de rol

// Obtener el idioma actual para el servidor
const currentLang = getCurrentLanguage();

// Traducciones
const translations = {
  es: {
    title: "Panel de Control V2"
  },
  ca: {
    title: "Tauler de Control V2"
  }
};

// Función para obtener la traducción
function t(key) {
  return translations[currentLang]?.[key] || key;
}
---

<MainLayout title="Dashboard V2" userRole={userRole} currentPath="/dashboard-v2">
  <div class="mx-auto px-4 py-6">
    <h1 class="text-3xl font-bold text-gray-800 mb-8">{t('title')}</h1>
    
    <!-- [DASHBOARDV2] Nuevo componente DashboardV2 - Renderizado solo en el cliente -->
    <DashboardV2 client:only="react" />
  </div>
</MainLayout>
