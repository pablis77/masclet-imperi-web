import{l as c}from"./apiService.DFT83caO.js";import"./hoisted.BHNQ_rHf.js";import"./LanguageSwitcher.astro_astro_type_script_index_0_lang.CXyVlJeA.js";import"./vendor.DPE1g--N.js";import"./apiConfigAdapter.B0N4Zv2p.js";import"./authService.CvC7CJU-.js";document.addEventListener("DOMContentLoaded",()=>{localStorage.getItem("token")&&(localStorage.removeItem("token"),localStorage.removeItem("user_role"));const i=document.getElementById("loginForm"),e=document.getElementById("loginStatus");i?.addEventListener("submit",async r=>{r.preventDefault();const o=document.getElementById("username")?.value,n=document.getElementById("password")?.value,a=document.getElementById("role")?.value;if(!o||!n){t("Por favor, complete todos los campos","error");return}t("Iniciando sesi贸n...","info");try{const s=await c(o,n);localStorage.setItem("user_role",a),t(`Inicio de sesi贸n exitoso como: ${a}. Redirigiendo...`,"success"),setTimeout(()=>{window.location.href="/"},1e3)}catch(s){console.error("Error al iniciar sesi贸n:",s),t(`Error al iniciar sesi贸n: ${s.message||"Error desconocido"}`,"error")}});function t(r,o){if(e)switch(e.textContent=r,e.classList.remove("hidden","text-green-500","text-red-500","text-blue-500"),o){case"success":e.classList.add("text-green-500");break;case"error":e.classList.add("text-red-500");break;case"info":e.classList.add("text-blue-500");break}}});
