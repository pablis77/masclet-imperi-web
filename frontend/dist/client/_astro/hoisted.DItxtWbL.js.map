{"version":3,"file":"hoisted.DItxtWbL.js","sources":["../../../src/layouts/DefaultLayout.astro?astro&type=script&index=0&lang.ts","../../../src/scripts/updateUserRole.js"],"sourcesContent":["      // Script para manejar la autenticación del lado del cliente\n      import { isAuthenticated, getCurrentUser } from '../services/authService';\n      \n      document.addEventListener('DOMContentLoaded', () => {\n        // Si estamos en una página protegida (no login) y no hay autenticación\n        if (window.location.pathname !== '/login' && !isAuthenticated()) {\n          // Redirigir al login con la URL actual como parámetro redirect\n          window.location.href = `/login?redirect=${encodeURIComponent(window.location.pathname)}`;\n        }\n      });\n    \n\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyAidmVyc2lvbiI6IDMsICJzb3VyY2VzIjogWyJDOi9Qcm95ZWN0b3MvY2xhdWRlL21hc2NsZXQtaW1wZXJpLXdlYi9mcm9udGVuZC9zcmMvbGF5b3V0cy9EZWZhdWx0TGF5b3V0LmFzdHJvIl0sICJzb3VyY2VzQ29udGVudCI6IFsiLS0tXG4vLyBJbXBvcnRhciBjb21wb25lbnRlcyBkZSBsYXlvdXRcbmltcG9ydCBOYXZiYXIgZnJvbSAnLi4vY29tcG9uZW50cy9sYXlvdXQvTmF2YmFyLmFzdHJvJztcbmltcG9ydCBTaWRlYmFyIGZyb20gJy4uL2NvbXBvbmVudHMvbGF5b3V0L1NpZGViYXIuYXN0cm8nO1xuaW1wb3J0IEZvb3RlciBmcm9tICcuLi9jb21wb25lbnRzL2xheW91dC9Gb290ZXIuYXN0cm8nO1xuaW1wb3J0IEF1dGhNaWRkbGV3YXJlIGZyb20gJy4uL21pZGRsZXdhcmVzL0F1dGhNaWRkbGV3YXJlJztcblxuLy8gSW1wb3J0YXIgZXN0aWxvcyBnbG9iYWxlc1xuaW1wb3J0ICcuLi9zdHlsZXMvZ2xvYmFsLmNzcyc7XG5pbXBvcnQgJy4uL3N0eWxlcy9sZW1vbi1zcXVlZXp5LmNzcyc7XG5cbi8vIFByb3BzIHF1ZSBwdWVkZW4gc2VyIHBhc2Fkb3MgYWwgbGF5b3V0XG5pbnRlcmZhY2UgUHJvcHMge1xuICB0aXRsZT86IHN0cmluZztcbiAgdXNlclJvbGU/OiBzdHJpbmc7XG59XG5cbi8vIFZhbG9yZXMgcG9yIGRlZmVjdG9cbmNvbnN0IHsgXG4gIHRpdGxlID0gXCJNYXNjbGV0IEltcGVyaVwiLFxuICB1c2VyUm9sZSA9IFwidXN1YXJpb1wiXG59ID0gQXN0cm8ucHJvcHM7XG5cbi8vIFBhdGggYWN0dWFsXG5jb25zdCBjdXJyZW50UGF0aCA9IEFzdHJvLnVybC5wYXRobmFtZTtcblxuLy8gT2J0ZW5lciBlbCByb2wgZGVsIHVzdWFyaW8gKGEgZnV0dXJvIGRlc2RlIGVsIHRva2VuIGFsbWFjZW5hZG8pXG5jb25zdCByb2xlID0gQXN0cm8uY29va2llcy5nZXQoJ3VzZXJSb2xlJyk/LnZhbHVlIHx8IHVzZXJSb2xlO1xuLS0tXG5cblx1MDAzYyFET0NUWVBFIGh0bWxcdTAwM2Vcblx1MDAzYyEtLSBTY3JpcHQgcGFyYSBhY3R1YWxpemFyIGxhIGNvb2tpZSBkZSByb2wgZGUgdXN1YXJpbyAtLVx1MDAzZVxuXHUwMDNjaHRtbCBsYW5nPVwiZXNcIiBjbGFzcz1cImxpZ2h0XCJcdTAwM2VcbiAgXHUwMDNjaGVhZFx1MDAzZVxuICAgIFx1MDAzY21ldGEgY2hhcnNldD1cIlVURi04XCIgL1x1MDAzZVxuICAgIFx1MDAzY21ldGEgbmFtZT1cInZpZXdwb3J0XCIgY29udGVudD1cIndpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjBcIiAvXHUwMDNlXG4gICAgXHUwMDNjbWV0YSBuYW1lPVwiZGVzY3JpcHRpb25cIiBjb250ZW50PVwiTWFzY2xldCBJbXBlcmkgLSBTaXN0ZW1hIGRlIEdlc3Rpw7NuIEdhbmFkZXJhXCIgL1x1MDAzZVxuICAgIFx1MDAzY2xpbmsgcmVsPVwiaWNvblwiIHR5cGU9XCJpbWFnZS9zdmcreG1sXCIgaHJlZj1cIi9mYXZpY29uLnN2Z1wiIC9cdTAwM2VcbiAgICBcdTAwM2N0aXRsZVx1MDAzZXt0aXRsZX0gfCBNYXNjbGV0IEltcGVyaVx1MDAzYy90aXRsZVx1MDAzZVxuICBcdTAwM2MvaGVhZFx1MDAzZVxuICBcdTAwM2Nib2R5IGNsYXNzPVwibWluLWgtc2NyZWVuIGZsZXggZmxleC1jb2wgYmctZ3JheS01MCBkYXJrOmJnLWdyYXktOTAwIGRhcms6dGV4dC1ncmF5LTEwMFwiXHUwMDNlXG4gIFx1MDAzYyEtLSBTY3JpcHQgcGFyYSBhY3R1YWxpemFyIGxhIGNvb2tpZSBkZSByb2wgZGUgdXN1YXJpbyAtLVx1MDAzZVxuICBcdTAwM2NzY3JpcHQgc3JjPVwiL3NyYy9zY3JpcHRzL3VwZGF0ZVVzZXJSb2xlLmpzXCJcdTAwM2VcdTAwM2Mvc2NyaXB0XHUwMDNlXG4gICAgXHUwMDNjQXV0aE1pZGRsZXdhcmUgY2xpZW50OmxvYWQgY3VycmVudFBhdGg9e2N1cnJlbnRQYXRofVx1MDAzZVxuICAgICAgXHUwMDNjTmF2YmFyIHRpdGxlPXt0aXRsZX0gdXNlclJvbGU9e3JvbGV9IGN1cnJlbnRQYXRoPXtjdXJyZW50UGF0aH0gL1x1MDAzZVxuICAgICAgXG4gICAgICBcdTAwM2NkaXYgY2xhc3M9XCJmbGV4IGZsZXgtMSByZWxhdGl2ZSBvdmVyZmxvdy1oaWRkZW5cIlx1MDAzZVxuICAgICAgICBcdTAwM2MhLS0gTWFyY2EgZGUgYWd1YSBjb24gZWwgbG9nbyAtLVx1MDAzZVxuICAgICAgICBcdTAwM2NkaXYgY2xhc3M9XCJhYnNvbHV0ZSBpbnNldC0wIHBvaW50ZXItZXZlbnRzLW5vbmUgei0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIG9wYWNpdHktWzAuMDJdIGRhcms6b3BhY2l0eS1bMC4wMV1cIlx1MDAzZVxuICAgICAgICAgIFx1MDAzY2ltZyBzcmM9XCIvaW1hZ2VzL2xvZ29fbWFzY2xldC5qcGdcIiBhbHQ9XCJNYXJjYSBkZSBhZ3VhIE1hc2NsZXQgSW1wZXJpXCIgY2xhc3M9XCJ3LWZ1bGwgbWF4LXctNHhsIG9iamVjdC1jb250YWluXCIgL1x1MDAzZVxuICAgICAgICBcdTAwM2MvZGl2XHUwMDNlXG4gICAgICAgIFxuICAgICAgICBcdTAwM2NTaWRlYmFyIHVzZXJSb2xlPXtyb2xlfSBjdXJyZW50UGF0aD17Y3VycmVudFBhdGh9IC9cdTAwM2VcbiAgICAgICAgXG4gICAgICAgIFx1MDAzYyEtLSBDb250ZW5pZG8gcHJpbmNpcGFsIGNvbiBwYWRkaW5nIGFkYXB0YXRpdm8geSBtYXJnZW4gcGFyYSBsYSBiYXJyYSBsYXRlcmFsIC0tXHUwMDNlXG4gICAgICAgIFx1MDAzY21haW4gY2xhc3M9XCJmbGV4LTEgcC0zIHNtOnAtNCBtZDpwLTYgcmVsYXRpdmUgei0xMCBvdmVyZmxvdy1hdXRvIG1kOm1sLTY0XCJcdTAwM2VcbiAgICAgICAgICBcdTAwM2MhLS0gQ29udGVuZWRvciBjb24gYW5jaG8gbcOheGltbyBwYXJhIG1lam9yYXIgbGVnaWJpbGlkYWQgZW4gcGFudGFsbGFzIGdyYW5kZXMgLS1cdTAwM2VcbiAgICAgICAgICBcdTAwM2NkaXYgY2xhc3M9XCJtYXgtdy03eGwgbXgtYXV0b1wiXHUwMDNlXG4gICAgICAgICAgICBcdTAwM2NzbG90IC9cdTAwM2VcbiAgICAgICAgICBcdTAwM2MvZGl2XHUwMDNlXG4gICAgICAgIFx1MDAzYy9tYWluXHUwMDNlXG4gICAgICBcdTAwM2MvZGl2XHUwMDNlXG4gICAgICBcbiAgICAgIFx1MDAzY0Zvb3RlciAvXHUwMDNlXG4gICAgXHUwMDNjL0F1dGhNaWRkbGV3YXJlXHUwMDNlXG5cbiAgICBcdTAwM2MhLS0gQm90w7NuIGZsb3RhbnRlIHBhcmEgbW9zdHJhciBlbCBzaWRlYmFyIGVuIG3Ds3ZpbCAtLVx1MDAzZVxuICAgIFx1MDAzY2J1dHRvbiBpZD1cIm1vYmlsZS1zaWRlYmFyLXRvZ2dsZVwiIGNsYXNzPVwibWQ6aGlkZGVuIGZpeGVkIGJvdHRvbS02IHJpZ2h0LTYgYmctcHJpbWFyeSB0ZXh0LXdoaXRlIHAtMyByb3VuZGVkLWZ1bGwgc2hhZG93LWxnIHotMzBcIlx1MDAzZVxuICAgICAgXHUwMDNjc3BhbiBjbGFzcz1cInRleHQteGxcIlx1MDAzZeKYsFx1MDAzYy9zcGFuXHUwMDNlXG4gICAgXHUwMDNjL2J1dHRvblx1MDAzZVxuXG4gICAgXHUwMDNjc2NyaXB0IGlzOmlubGluZVx1MDAzZVxuICAgICAgLy8gU2NyaXB0IHBhcmEgZWwgdGVtYSBvc2N1cm8vY2xhcm9cbiAgICAgIGNvbnN0IHRoZW1lID0gKCgpID1cdTAwM2Uge1xuICAgICAgICBpZiAodHlwZW9mIGxvY2FsU3RvcmFnZSAhPT0gJ3VuZGVmaW5lZCcgXHUwMDI2XHUwMDI2IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0aGVtZScpKSB7XG4gICAgICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0aGVtZScpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh3aW5kb3cubWF0Y2hNZWRpYSgnKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKScpLm1hdGNoZXMpIHtcbiAgICAgICAgICByZXR1cm4gJ2RhcmsnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnbGlnaHQnO1xuICAgICAgfSkoKTtcbiAgICAgICAgICBcbiAgICAgIGlmICh0aGVtZSA9PT0gJ2RhcmsnKSB7XG4gICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdkYXJrJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnZGFyaycpO1xuICAgICAgfVxuXG4gICAgICAvLyBTY3JpcHQgcGFyYSBlbCBzaWRlYmFyIG3Ds3ZpbFxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID1cdTAwM2Uge1xuICAgICAgICBjb25zdCBzaWRlYmFyVG9nZ2xlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vYmlsZS1zaWRlYmFyLXRvZ2dsZScpO1xuICAgICAgICBjb25zdCBzaWRlYmFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1hc2NsZXQtc2lkZWJhcicpO1xuICAgICAgICBcbiAgICAgICAgaWYgKHNpZGViYXJUb2dnbGUgXHUwMDI2XHUwMDI2IHNpZGViYXIpIHtcbiAgICAgICAgICBzaWRlYmFyVG9nZ2xlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPVx1MDAzZSB7XG4gICAgICAgICAgICBzaWRlYmFyLmNsYXNzTGlzdC50b2dnbGUoJ21vYmlsZS1zaWRlYmFyLWFjdGl2ZScpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDYW1iaWFyIGVsIMOtY29ubyBzZWfDum4gZWwgZXN0YWRvXG4gICAgICAgICAgICBjb25zdCB0b2dnbGVJY29uID0gc2lkZWJhclRvZ2dsZS5xdWVyeVNlbGVjdG9yKCdzcGFuJyk7XG4gICAgICAgICAgICBpZiAodG9nZ2xlSWNvbikge1xuICAgICAgICAgICAgICB0b2dnbGVJY29uLnRleHRDb250ZW50ID0gc2lkZWJhci5jbGFzc0xpc3QuY29udGFpbnMoJ21vYmlsZS1zaWRlYmFyLWFjdGl2ZScpID8gJ+KclScgOiAn4piwJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBDZXJyYXIgc2lkZWJhciBhbCBoYWNlciBjbGljIGZ1ZXJhIGRlIMOpbFxuICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID1cdTAwM2Uge1xuICAgICAgICAgICAgaWYgKHNpZGViYXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdtb2JpbGUtc2lkZWJhci1hY3RpdmUnKSBcdTAwMjZcdTAwMjYgXG4gICAgICAgICAgICAgICAgIXNpZGViYXIuY29udGFpbnMoZS50YXJnZXQpIFx1MDAyNlx1MDAyNiBcbiAgICAgICAgICAgICAgICBlLnRhcmdldCAhPT0gc2lkZWJhclRvZ2dsZSkge1xuICAgICAgICAgICAgICBzaWRlYmFyLmNsYXNzTGlzdC5yZW1vdmUoJ21vYmlsZS1zaWRlYmFyLWFjdGl2ZScpO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gUmVzdGF1cmFyIMOtY29ub1xuICAgICAgICAgICAgICBjb25zdCB0b2dnbGVJY29uID0gc2lkZWJhclRvZ2dsZS5xdWVyeVNlbGVjdG9yKCdzcGFuJyk7XG4gICAgICAgICAgICAgIGlmICh0b2dnbGVJY29uKSB0b2dnbGVJY29uLnRleHRDb250ZW50ID0gJ+KYsCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIFx1MDAzYy9zY3JpcHRcdTAwM2VcblxuICAgIFx1MDAzY3NjcmlwdFx1MDAzZVxuICAgICAgLy8gU2NyaXB0IHBhcmEgbWFuZWphciBsYSBhdXRlbnRpY2FjacOzbiBkZWwgbGFkbyBkZWwgY2xpZW50ZVxuICAgICAgaW1wb3J0IHsgaXNBdXRoZW50aWNhdGVkLCBnZXRDdXJyZW50VXNlciB9IGZyb20gJy4uL3NlcnZpY2VzL2F1dGhTZXJ2aWNlJztcbiAgICAgIFxuICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsICgpID1cdTAwM2Uge1xuICAgICAgICAvLyBTaSBlc3RhbW9zIGVuIHVuYSBww6FnaW5hIHByb3RlZ2lkYSAobm8gbG9naW4pIHkgbm8gaGF5IGF1dGVudGljYWNpw7NuXG4gICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUgIT09ICcvbG9naW4nIFx1MDAyNlx1MDAyNiAhaXNBdXRoZW50aWNhdGVkKCkpIHtcbiAgICAgICAgICAvLyBSZWRpcmlnaXIgYWwgbG9naW4gY29uIGxhIFVSTCBhY3R1YWwgY29tbyBwYXLDoW1ldHJvIHJlZGlyZWN0XG4gICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSBgL2xvZ2luP3JlZGlyZWN0PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZSl9YDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgXHUwMDNjL3NjcmlwdFx1MDAzZVxuICBcdTAwM2MvYm9keVx1MDAzZVxuXHUwMDNjL2h0bWxcdTAwM2VcblxuXHUwMDNjc3R5bGUgaXM6Z2xvYmFsXHUwMDNlXG4gIC8qIEVzdGlsb3MgZ2xvYmFsZXMgcGFyYSBsYSBhcGxpY2FjacOzbiAqL1xuICBcbiAgLyogU2Nyb2xsYmFyIHBlcnNvbmFsaXphZGEgKi9cbiAgOjotd2Via2l0LXNjcm9sbGJhciB7XG4gICAgd2lkdGg6IDhweDtcbiAgICBoZWlnaHQ6IDhweDtcbiAgfVxuICBcbiAgOjotd2Via2l0LXNjcm9sbGJhci10cmFjayB7XG4gICAgYmFja2dyb3VuZDogI2YxZjFmMTtcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gIH1cbiAgXG4gIDo6LXdlYmtpdC1zY3JvbGxiYXItdGh1bWIge1xuICAgIGJhY2tncm91bmQ6ICM4ODg7XG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICB9XG4gIFxuICA6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iOmhvdmVyIHtcbiAgICBiYWNrZ3JvdW5kOiAjNTU1O1xuICB9XG4gIFxuICAvKiBDbGFzZXMgZGUgdXRpbGlkYWQgKi9cbiAgLnRleHQtc2hhZG93IHtcbiAgICB0ZXh0LXNoYWRvdzogMXB4IDFweCAycHggcmdiYSgwLDAsMCwwLjEpO1xuICB9XG4gIFxuICAvKiBFc3RpbG9zIHBhcmEgc2lkZWJhciBtw7N2aWwgKi9cbiAgLm1hc2NsZXQtc2lkZWJhciB7XG4gICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIDAuM3MgZWFzZS1pbi1vdXQ7XG4gIH1cbiAgXG4gIEBtZWRpYSAobWF4LXdpZHRoOiA3NjhweCkge1xuICAgIC5tYXNjbGV0LXNpZGViYXIge1xuICAgICAgcG9zaXRpb246IGZpeGVkO1xuICAgICAgdG9wOiAwO1xuICAgICAgbGVmdDogMDtcbiAgICAgIGhlaWdodDogMTAwdmg7XG4gICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTEwMCUpO1xuICAgICAgei1pbmRleDogNTA7XG4gICAgfVxuICAgIFxuICAgIC5tb2JpbGUtc2lkZWJhci1hY3RpdmUge1xuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApO1xuICAgICAgYm94LXNoYWRvdzogMCAwIDE1cHggcmdiYSgwLDAsMCwwLjIpO1xuICAgIH1cbiAgfVxuICBcbiAgLyogRXN0aWxvIHBhcmEgb3B0aW1pemFyIHVzbyBlbiBjYW1wbyBjb24gZ3VhbnRlcyAqL1xuICBAbWVkaWEgKG1heC13aWR0aDogNjQwcHgpIHtcbiAgICBidXR0b24sIFxuICAgIGEsIFxuICAgIFtyb2xlPVwiYnV0dG9uXCJdLFxuICAgIGlucHV0W3R5cGU9XCJjaGVja2JveFwiXSxcbiAgICBpbnB1dFt0eXBlPVwicmFkaW9cIl0ge1xuICAgICAgbWluLWhlaWdodDogNDRweDsgLyogVGFtYcOxbyBtw61uaW1vIHJlY29tZW5kYWRvIHBhcmEgY29udHJvbGVzIHTDoWN0aWxlcyAqL1xuICAgIH1cbiAgICBcbiAgICBzZWxlY3QsIFxuICAgIGlucHV0W3R5cGU9XCJ0ZXh0XCJdLFxuICAgIGlucHV0W3R5cGU9XCJlbWFpbFwiXSxcbiAgICBpbnB1dFt0eXBlPVwicGFzc3dvcmRcIl0sXG4gICAgaW5wdXRbdHlwZT1cIm51bWJlclwiXSB7XG4gICAgICBmb250LXNpemU6IDE2cHg7IC8qIEV2aXRhIHpvb20gYXV0b23DoXRpY28gZW4gaU9TICovXG4gICAgICBtaW4taGVpZ2h0OiA0NHB4O1xuICAgIH1cbiAgfVxuICBcbiAgLyogTW9kbyBkZSBhbHRvIGNvbnRyYXN0ZSBwYXJhIHVzbyBlbiBleHRlcmlvcmVzICovXG4gIEBtZWRpYSAobWF4LXdpZHRoOiA2NDBweCkge1xuICAgIC5oaWdoLWNvbnRyYXN0LW1vZGUge1xuICAgICAgLS1jb250cmFzdC1iZzogIzAwMDAwMDtcbiAgICAgIC0tY29udHJhc3QtdGV4dDogI2ZmZmZmZjtcbiAgICAgIC0tY29udHJhc3QtcHJpbWFyeTogI2ZmY2MwMDtcbiAgICB9XG4gICAgXG4gICAgLmhpZ2gtY29udHJhc3QtbW9kZSBib2R5IHtcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWNvbnRyYXN0LWJnKTtcbiAgICAgIGNvbG9yOiB2YXIoLS1jb250cmFzdC10ZXh0KTtcbiAgICB9XG4gICAgXG4gICAgLmhpZ2gtY29udHJhc3QtbW9kZSBhLFxuICAgIC5oaWdoLWNvbnRyYXN0LW1vZGUgYnV0dG9uIHtcbiAgICAgIGNvbG9yOiB2YXIoLS1jb250cmFzdC1wcmltYXJ5KTtcbiAgICB9XG4gIH1cblx1MDAzYy9zdHlsZVx1MDAzZSJdLCAibWFwcGluZ3MiOiAiQUEwSEEsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNqRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDL0U7QUFDQSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUU7QUFDMUQsUUFBUSxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFBLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtBQUM5RSxRQUFRLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRTtBQUN6RSxVQUFVLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQSxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUN4RSxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztBQUNsRyxRQUFRO0FBQ1IsTUFBTSxDQUFDLENBQUM7QUFDUjtBQUFBOyIsICJuYW1lcyI6IFtdIH0=","/**\n * Script para actualizar la cookie de rol de usuario basado en localStorage\n * Se ejecuta en cada carga de página para mantener sincronizada la UI\n */\n\n// Función para establecer una cookie con un valor\nfunction setCookie(name, value, days = 7) {\n  const expires = new Date(Date.now() + days * 864e5).toUTCString();\n  document.cookie = name + '=' + encodeURIComponent(value) + '; expires=' + expires + '; path=/; SameSite=Lax';\n}\n\n// Función para actualizar el rol del usuario en la cookie\nfunction updateUserRoleFromLocalStorage() {\n  try {\n    // Obtener datos del usuario desde localStorage\n    const userJson = localStorage.getItem('user');\n    \n    if (userJson) {\n      const user = JSON.parse(userJson);\n      \n      // Si el usuario es admin, asegurarse de que tenga el rol correcto\n      if (user.username === 'admin') {\n        if (user.role !== 'administrador') {\n          user.role = 'administrador';\n          // Actualizar localStorage también\n          localStorage.setItem('user', JSON.stringify(user));\n        }\n        setCookie('userRole', 'administrador');\n      } else if (user.role) {\n        // Para otros usuarios, usar el rol almacenado\n        setCookie('userRole', user.role);\n      }\n      \n      console.log('Cookie de rol actualizada:', user.role);\n    } else {\n      console.log('No se encontraron datos de usuario en localStorage');\n    }\n  } catch (error) {\n    console.error('Error al actualizar la cookie de rol:', error);\n  }\n}\n\n// Ejecutar al cargar la página\ndocument.addEventListener('DOMContentLoaded', updateUserRoleFromLocalStorage);\n\n// También ejecutar cada vez que cambie el almacenamiento local\nwindow.addEventListener('storage', (event) => {\n  if (event.key === 'user') {\n    updateUserRoleFromLocalStorage();\n  }\n});\n\n// Ejecutar inmediatamente por si el DOM ya está cargado\nif (document.readyState === 'complete' || document.readyState === 'interactive') {\n  updateUserRoleFromLocalStorage();\n}\n"],"names":["isAuthenticated","setCookie","name","value","days","expires","updateUserRoleFromLocalStorage","userJson","user","error","event"],"mappings":"kJA6HM,SAAS,iBAAiB,mBAAoB,IAAM,CAE9C,OAAO,SAAS,WAAa,UAAY,CAACA,MAE5C,OAAO,SAAS,KAAO,mBAAmB,mBAAmB,OAAO,SAAS,QAAQ,CAAC,GAE1F,CAAC,EC7HP,SAASC,EAAUC,EAAMC,EAAOC,EAAO,EAAG,CACxC,MAAMC,EAAU,IAAI,KAAK,KAAK,IAAG,EAAKD,EAAO,KAAK,EAAE,YAAa,EACjE,SAAS,OAASF,EAAO,IAAM,mBAAmBC,CAAK,EAAI,aAAeE,EAAU,wBACtF,CAGA,SAASC,GAAiC,CACxC,GAAI,CAEF,MAAMC,EAAW,aAAa,QAAQ,MAAM,EAE5C,GAAIA,EAAU,CACZ,MAAMC,EAAO,KAAK,MAAMD,CAAQ,EAG5BC,EAAK,WAAa,SAChBA,EAAK,OAAS,kBAChBA,EAAK,KAAO,gBAEZ,aAAa,QAAQ,OAAQ,KAAK,UAAUA,CAAI,CAAC,GAEnDP,EAAU,WAAY,eAAe,GAC5BO,EAAK,MAEdP,EAAU,WAAYO,EAAK,IAAI,EAGjC,QAAQ,IAAI,6BAA8BA,EAAK,IAAI,CACzD,MACM,QAAQ,IAAI,oDAAoD,CAEnE,OAAQC,EAAO,CACd,QAAQ,MAAM,wCAAyCA,CAAK,CAChE,CACA,CAGA,SAAS,iBAAiB,mBAAoBH,CAA8B,EAG5E,OAAO,iBAAiB,UAAYI,GAAU,CACxCA,EAAM,MAAQ,QAChBJ,EAAgC,CAEpC,CAAC,GAGG,SAAS,aAAe,YAAc,SAAS,aAAe,gBAChEA,EAAgC"}