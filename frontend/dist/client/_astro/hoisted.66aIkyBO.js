import"./hoisted.BdTuqGqB.js";import"./LanguageSwitcher.astro_astro_type_script_index_0_lang.CXyVlJeA.js";import"./vendor.DPE1g--N.js";document.addEventListener("DOMContentLoaded",()=>{const c=document.getElementById("refreshBtn"),o=document.getElementById("totalAnimalsContainer");c&&c.addEventListener("click",()=>{window.location.reload()}),document.addEventListener("animals-loaded",a=>{if(o&&a.detail&&a.detail.total!==void 0){const t=(localStorage.getItem("userLanguage")||"es")==="ca"?"animals":"animales";o.innerHTML=`<span class="text-sm text-gray-500 dark:text-gray-400">
          Total: ${a.detail.total} ${t} 
        </span>`}}),document.addEventListener("filters-applied",a=>{if(o){const t=(localStorage.getItem("userLanguage")||"es")==="ca"?"Aplicant filtres...":"Aplicando filtros...";o.innerHTML=`<span class="text-sm text-gray-500 dark:text-gray-400">
          ${t}
        </span>`}});function i(){if((localStorage.getItem("userLanguage")||"es")==="ca"){const r=document.querySelector('[data-astro-source-loc="56:79"]');r&&(r.textContent="Gestió d'Animals");const t=document.querySelector('a[href="/animals/new"]');if(t){try{const s=localStorage.getItem("token");let l="guest";if(s&&(l=(JSON.parse(atob(s.split(".")[1])).role||"guest").toLowerCase(),console.log("Rol detectado en script traducción:",l)),l==="editor"||l==="usuario"){if(console.log("BLOQUEANDO BOTÓN EN SCRIPT DE TRADUCCIÓN"),t.href="javascript:void(0);",t.disabled=!0,t.setAttribute("disabled","disabled"),t.style.opacity="0.5",t.style.pointerEvents="none",t.style.cursor="not-allowed",t.title="NO TIENES PERMISOS PARA CREAR NUEVOS ANIMALES",t.classList.add("opacity-50","cursor-not-allowed"),!t.querySelector(".lock-icon")){const n=document.createElement("span");n.textContent=" 🔒",n.className="ml-1 lock-icon",t.appendChild(n)}t.addEventListener("click",function(n){return n.preventDefault(),n.stopPropagation(),alert("NO TIENES PERMISOS PARA CREAR NUEVOS ANIMALES"),!1})}}catch(s){console.error("Error aplicando restricciones en traducción:",s)}const e=t.querySelector("span");e&&e.nextSibling&&(e.nextSibling.textContent=" Nou Animal")}const d=document.getElementById("refreshBtn");if(d){const e=d.querySelector("span");e&&e.nextSibling&&(e.nextSibling.textContent=" Actualitzar")}const u=document.querySelector('[data-astro-source-loc="74:97"]');u&&(u.textContent="Cerca i Filtres");const m=document.querySelector('[data-astro-source-loc="77:85"]');m&&(m.textContent="Utilitza els filtres per trobar animals específics. Pots filtrar per explotació, gènere, estat i més.");const g=document.querySelector('[data-astro-source-loc="93:97"]');g&&(g.textContent="Llistat d'Animals")}}i(),window.addEventListener("storage",()=>{i()})});
