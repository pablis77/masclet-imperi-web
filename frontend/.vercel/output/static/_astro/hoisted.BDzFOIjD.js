import"./hoisted.Aq9NsjF5.js";import"./LanguageSwitcher.astro_astro_type_script_index_0_lang.DhuIQNJ0.js";import"./vendor.DPE1g--N.js";document.addEventListener("DOMContentLoaded",()=>{const n=document.documentElement.lang||"es",e=document.getElementById("language");e&&(e.value=n);const o=document.getElementById("theme"),c=window.matchMedia("(prefers-color-scheme: dark)").matches,i=localStorage.getItem("theme")||(c?"dark":"light");o&&(o.value=i);try{const t=JSON.parse(localStorage.getItem("userSettings")||"{}");if(t.notifications){const s=document.getElementById("notify_backups");s&&t.notifications.backups!==void 0&&(s.checked=t.notifications.backups);const m=document.getElementById("notify_imports");m&&t.notifications.imports!==void 0&&(m.checked=t.notifications.imports);const d=document.getElementById("notify_animals");d&&t.notifications.animals!==void 0&&(d.checked=t.notifications.animals)}}catch(t){console.error("Error al cargar la configuración guardada:",t)}const a=document.querySelector('button[type="button"]:last-child');a&&a.addEventListener("click",l)});function l(){const n=document.getElementById("language")?.value,e=document.getElementById("theme")?.value,o=document.getElementById("notify_backups")?.checked,c=document.getElementById("notify_imports")?.checked,i=document.getElementById("notify_animals")?.checked;if(localStorage.setItem("userSettings",JSON.stringify({language:n,theme:e,notifications:{backups:o,imports:c,animals:i}})),n){const a=new URL(window.location.href);a.searchParams.set("lang",n),window.location.href=a.toString()}e&&(e==="dark"?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):e==="light"?(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light")):(localStorage.removeItem("theme"),window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"))),r("✅","Configuración guardada correctamente")}function r(n,e){const o=document.getElementById("notification-modal"),c=document.getElementById("notification-icon"),i=document.getElementById("notification-message");o&&c&&i&&(c.textContent=n,i.textContent=e,o.classList.remove("hidden"))}
