(masclet-imperi) PS C:\Proyectos\claude\masclet-imperi-web> curl http://localhost:8000/api/v1/openapi.json
{"openapi":"3.1.0","info":{"title":"Masclet Imperi API","version":"1.0.0"},"paths":{"/api/v1/explotacions/":{"get":{"tags":["explotacions"],"summary":"List Explotacions","description":"Lista todas las explotaciones.","operationId":"list_explotacions_api_v1_explotacions__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/ExplotacioResponse"},"type":"array","title":"Response List Explotacions Api V1 Explotacions  Get"}}}}}},"post":{"tags":["explotacions"],"summary":"Create Explotacio","description":"Crea una nueva explotación.","operationId":"create_explotacio_api_v1_explotacions__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExplotacioCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExplotacioResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/explotacions/{explotacio_id}":{"get":{"tags":["explotacions"],"summary":"Get Explotacio","description":"Obtiene una explotación por su ID.","operationId":"get_explotacio_api_v1_explotacions__explotacio_id__get","parameters":[{"name":"explotacio_id","in":"path","required":true,"schema":{"type":"integer","title":"Explotacio Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExplotacioResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["explotacions"],"summary":"Update Explotacio","description":"Actualiza una explotación.","operationId":"update_explotacio_api_v1_explotacions__explotacio_id__put","parameters":[{"name":"explotacio_id","in":"path","required":true,"schema":{"type":"integer","title":"Explotacio Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExplotacioUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ExplotacioResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/animals/":{"post":{"tags":["animals"],"summary":"Create Animal","description":"Crear un nuevo animal","operationId":"create_animal_api_v1_animals__post","requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","title":"Animal Data"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnimalResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["animals"],"summary":"List Animals","description":"Listar animales con filtros opcionales","operationId":"list_animals_api_v1_animals__get","parameters":[{"name":"explotacio_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Explotacio Id"}},{"name":"genere","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Genere"}},{"name":"estado","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Estado"}},{"name":"alletar","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Alletar"}},{"name":"mare","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mare"}},{"name":"pare","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pare"}},{"name":"quadra","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Quadra"}},{"name":"search","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Search"}},{"name":"num_serie","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Num Serie"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnimalListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/animals/{animal_id}":{"get":{"tags":["animals"],"summary":"Get Animal","description":"Obtener detalles de un animal","operationId":"get_animal_api_v1_animals__animal_id__get","parameters":[{"name":"animal_id","in":"path","required":true,"schema":{"type":"integer","title":"Animal Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnimalResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["animals"],"summary":"Update Animal","description":"Actualizar un animal","operationId":"update_animal_api_v1_animals__animal_id__patch","parameters":[{"name":"animal_id","in":"path","required":true,"schema":{"type":"integer","title":"Animal Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnimalUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnimalResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["animals"],"summary":"Delete Animal","description":"Eliminar un animal","operationId":"delete_animal_api_v1_animals__animal_id__delete","parameters":[{"name":"animal_id","in":"path","required":true,"schema":{"type":"integer","title":"Animal Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","title":"Response Delete Animal Api V1 Animals  Animal Id  Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/animals/{animal_id}/parts":{"post":{"tags":["partos"],"summary":"Create Parto","description":"Registrar un nuevo parto","operationId":"create_parto_api_v1_animals__animal_id__parts_post","parameters":[{"name":"animal_id","in":"path","required":true,"schema":{"type":"integer","title":"Animal Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PartoCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PartoResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["partos"],"summary":"List Animal Partos","description":"Obtener historial de partos de un animal","operationId":"list_animal_partos_api_v1_animals__animal_id__parts_get","parameters":[{"name":"animal_id","in":"path","required":true,"schema":{"type":"integer","title":"Animal Id"}},{"name":"desde","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Desde"}},{"name":"hasta","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Hasta"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":10,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PartosListResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/v1/animals/{animal_id}/parts/{parto_id}":{"get":{"tags":["partos"],"summary":"Get Parto","description":"Obtener detalles de un parto específico","operationId":"get_parto_api_v1_animals__animal_id__parts__parto_id__get","parameters":[{"name":"parto_id","in":"path","required":true,"schema":{"type":"integer","title":"Parto Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PartoResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["partos"],"summary":"Update Parto","description":"Actualizar un parto existente","operationId":"update_parto_api_v1_animals__animal_id__parts__parto_id__patch","parameters":[{"name":"animal_id","in":"path","required":true,"schema":{"type":"integer","title":"Animal Id"}},{"name":"parto_id","in":"path","required":true,"schema":{"type":"integer","title":"Parto Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PartoUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PartoResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"AnimalListResponse":{"properties":{"status":{"type":"string","title":"Status","default":"success"},"data":{"$ref":"#/components/schemas/PaginatedResponse"}},"type":"object","required":["data"],"title":"AnimalListResponse","description":"Esquema para respuestas de listas de animales"},"AnimalResponse":{"properties":{"status":{"type":"string","title":"Status","default":"success"},"data":{"$ref":"#/components/schemas/AnimalResponseData"}},"type":"object","required":["data"],"title":"AnimalResponse","description":"Esquema para respuestas de animales"},"AnimalResponseData":{"properties":{"nom":{"type":"string","title":"Nom"},"genere":{"type":"string","title":"Genere"},"explotacio":{"type":"integer","title":"Explotacio"},"estado":{"type":"string","title":"Estado","default":"OK"},"alletar":{"type":"integer","title":"Alletar","default":0},"dob":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Dob"},"mare":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mare"},"pare":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pare"},"quadra":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Quadra"},"cod":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cod"},"num_serie":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Num Serie"},"part":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Part"},"genere_t":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Genere T"},"estado_t":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Estado T"},"id":{"type":"integer","title":"Id"},"partos":{"anyOf":[{"$ref":"#/components/schemas/PartoInfo"},{"type":"null"}]},"created_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Created At"},"updated_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Updated At"}},"type":"object","required":["nom","genere","explotacio","id"],"title":"AnimalResponseData","description":"Esquema para datos de respuesta de animales"},"AnimalUpdate":{"properties":{"nom":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nom"},"estado":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Estado"},"alletar":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Alletar"},"mare":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Mare"},"pare":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pare"},"quadra":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Quadra"},"cod":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Cod"},"num_serie":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Num Serie"},"part":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Part"},"genere_t":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Genere T"},"estado_t":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Estado T"},"dob":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Dob"}},"additionalProperties":false,"type":"object","title":"AnimalUpdate","description":"Esquema para actualizar animales","example":{"alletar":0,"dob":"01/01/2020","estado":"OK","nom":"Nombre Animal"}},"Estado":{"type":"string","enum":["OK","DEF"],"title":"Estado","description":"Estado del animal"},"ExplotacioCreate":{"properties":{"nom":{"type":"string","title":"Nom"},"ubicacio":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ubicacio"},"activa":{"type":"boolean","title":"Activa","default":true}},"type":"object","required":["nom"],"title":"ExplotacioCreate","description":"Schema para crear explotaciones."},"ExplotacioResponse":{"properties":{"nom":{"type":"string","title":"Nom"},"ubicacio":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ubicacio"},"activa":{"type":"boolean","title":"Activa","default":true},"id":{"type":"integer","title":"Id"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["nom","id","created_at","updated_at"],"title":"ExplotacioResponse","description":"Schema para respuestas de explotaciones."},"ExplotacioUpdate":{"properties":{"nom":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nom"},"ubicacio":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ubicacio"},"activa":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Activa"}},"type":"object","title":"ExplotacioUpdate","description":"Schema para actualizar explotaciones."},"Genere":{"type":"string","enum":["M","F"],"title":"Genere","description":"Género del animal"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"PaginatedResponse":{"properties":{"total":{"type":"integer","title":"Total"},"offset":{"type":"integer","title":"Offset"},"limit":{"type":"integer","title":"Limit"},"items":{"items":{"$ref":"#/components/schemas/AnimalResponseData"},"type":"array","title":"Items"}},"type":"object","required":["total","offset","limit","items"],"title":"PaginatedResponse","description":"Esquema para respuestas paginadas"},"PartoCreate":{"properties":{"data":{"type":"string","title":"Data","description":"Fecha del parto en formato DD/MM/YYYY"},"genere_fill":{"$ref":"#/components/schemas/Genere","description":"Género de la cría (M/F)"},"estat_fill":{"$ref":"#/components/schemas/Estado","description":"Estado de la cría (OK/DEF)","default":"OK"}},"type":"object","required":["data","genere_fill"],"title":"PartoCreate","description":"Schema para crear partos"},"PartoData":{"properties":{"id":{"type":"integer","title":"Id"},"animal_id":{"type":"integer","title":"Animal Id"},"data":{"type":"string","title":"Data"},"genere_fill":{"$ref":"#/components/schemas/Genere"},"estat_fill":{"$ref":"#/components/schemas/Estado"},"numero_part":{"type":"integer","title":"Numero Part"},"created_at":{"type":"string","title":"Created At"},"observacions":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Observacions"}},"type":"object","required":["id","animal_id","data","genere_fill","estat_fill","numero_part","created_at"],"title":"PartoData","description":"Schema para los datos del parto"},"PartoInfo":{"properties":{"total":{"type":"integer","title":"Total"},"ultimo":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Ultimo"},"items":{"items":{"type":"object"},"type":"array","title":"Items","default":[]},"first_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"First Date"},"last_date":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Last Date"}},"type":"object","required":["total"],"title":"PartoInfo","description":"Esquema para información resumida de partos"},"PartoResponse":{"properties":{"status":{"type":"string","title":"Status","default":"success"},"data":{"$ref":"#/components/schemas/PartoData"}},"type":"object","required":["data"],"title":"PartoResponse","description":"Schema para respuestas con partos individuales"},"PartoUpdate":{"properties":{"data":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Data","description":"Fecha del parto en formato DD/MM/YYYY"},"genere_fill":{"anyOf":[{"$ref":"#/components/schemas/Genere"},{"type":"null"}]},"estat_fill":{"anyOf":[{"$ref":"#/components/schemas/Estado"},{"type":"null"}]}},"type":"object","title":"PartoUpdate","description":"Schema para actualizar partos"},"PartosListData":{"properties":{"total":{"type":"integer","title":"Total"},"offset":{"type":"integer","title":"Offset"},"limit":{"type":"integer","title":"Limit"},"items":{"items":{"$ref":"#/components/schemas/PartoData"},"type":"array","title":"Items"}},"type":"object","required":["total","offset","limit","items"],"title":"PartosListData","description":"Schema para lista paginada de partos"},"PartosListResponse":{"properties":{"status":{"type":"string","title":"Status","default":"success"},"data":{"$ref":"#/components/schemas/PartosListData"}},"type":"object","required":["data"],"title":"PartosListResponse","description":"Schema para respuestas con listas de partos"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}