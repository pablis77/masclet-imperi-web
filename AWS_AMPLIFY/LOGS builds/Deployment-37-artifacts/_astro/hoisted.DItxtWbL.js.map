{"version":3,"file":"hoisted.DItxtWbL.js","sources":["../../../src/layouts/DefaultLayout.astro?astro&type=script&index=0&lang.ts","../../../src/scripts/updateUserRole.js"],"sourcesContent":["      // Script para manejar la autenticación del lado del cliente\n      import { isAuthenticated, getCurrentUser } from '../services/authService';\n      \n      document.addEventListener('DOMContentLoaded', () => {\n        // Si estamos en una página protegida (no login) y no hay autenticación\n        if (window.location.pathname !== '/login' && !isAuthenticated()) {\n          // Redirigir al login con la URL actual como parámetro redirect\n          window.location.href = `/login?redirect=${encodeURIComponent(window.location.pathname)}`;\n        }\n      });\n    \n\n\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyAidmVyc2lvbiI6IDMsICJzb3VyY2VzIjogWyIvY29kZWJ1aWxkL291dHB1dC9zcmMxNDc4MjAwMjI2L3NyYy9tYXNjbGV0LWltcGVyaS13ZWIvZnJvbnRlbmQvc3JjL2xheW91dHMvRGVmYXVsdExheW91dC5hc3RybyJdLCAic291cmNlc0NvbnRlbnQiOiBbIi0tLVxuLy8gSW1wb3J0YXIgY29tcG9uZW50ZXMgZGUgbGF5b3V0XG5pbXBvcnQgTmF2YmFyIGZyb20gJy4uL2NvbXBvbmVudHMvbGF5b3V0L05hdmJhci5hc3Rybyc7XG5pbXBvcnQgU2lkZWJhciBmcm9tICcuLi9jb21wb25lbnRzL2xheW91dC9TaWRlYmFyLmFzdHJvJztcbmltcG9ydCBGb290ZXIgZnJvbSAnLi4vY29tcG9uZW50cy9sYXlvdXQvRm9vdGVyLmFzdHJvJztcbmltcG9ydCBBdXRoTWlkZGxld2FyZSBmcm9tICcuLi9taWRkbGV3YXJlcy9BdXRoTWlkZGxld2FyZSc7XG5cbi8vIEltcG9ydGFyIGVzdGlsb3MgZ2xvYmFsZXNcbmltcG9ydCAnLi4vc3R5bGVzL2dsb2JhbC5jc3MnO1xuaW1wb3J0ICcuLi9zdHlsZXMvbGVtb24tc3F1ZWV6eS5jc3MnO1xuXG4vLyBQcm9wcyBxdWUgcHVlZGVuIHNlciBwYXNhZG9zIGFsIGxheW91dFxuaW50ZXJmYWNlIFByb3BzIHtcbiAgdGl0bGU/OiBzdHJpbmc7XG4gIHVzZXJSb2xlPzogc3RyaW5nO1xufVxuXG4vLyBWYWxvcmVzIHBvciBkZWZlY3RvXG5jb25zdCB7IFxuICB0aXRsZSA9IFwiTWFzY2xldCBJbXBlcmlcIixcbiAgdXNlclJvbGUgPSBcInVzdWFyaW9cIlxufSA9IEFzdHJvLnByb3BzO1xuXG4vLyBQYXRoIGFjdHVhbFxuY29uc3QgY3VycmVudFBhdGggPSBBc3Ryby51cmwucGF0aG5hbWU7XG5cbi8vIE9idGVuZXIgZWwgcm9sIGRlbCB1c3VhcmlvIChhIGZ1dHVybyBkZXNkZSBlbCB0b2tlbiBhbG1hY2VuYWRvKVxuY29uc3Qgcm9sZSA9IEFzdHJvLmNvb2tpZXMuZ2V0KCd1c2VyUm9sZScpPy52YWx1ZSB8fCB1c2VyUm9sZTtcbi0tLVxuXG5cdTAwM2MhRE9DVFlQRSBodG1sXHUwMDNlXG5cdTAwM2MhLS0gU2NyaXB0IHBhcmEgYWN0dWFsaXphciBsYSBjb29raWUgZGUgcm9sIGRlIHVzdWFyaW8gLS1cdTAwM2Vcblx1MDAzY2h0bWwgbGFuZz1cImVzXCIgY2xhc3M9XCJsaWdodFwiXHUwMDNlXG4gIFx1MDAzY2hlYWRcdTAwM2VcbiAgICBcdTAwM2NtZXRhIGNoYXJzZXQ9XCJVVEYtOFwiIC9cdTAwM2VcbiAgICBcdTAwM2NtZXRhIG5hbWU9XCJ2aWV3cG9ydFwiIGNvbnRlbnQ9XCJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wXCIgL1x1MDAzZVxuICAgIFx1MDAzY21ldGEgbmFtZT1cImRlc2NyaXB0aW9uXCIgY29udGVudD1cIk1hc2NsZXQgSW1wZXJpIC0gU2lzdGVtYSBkZSBHZXN0acOzbiBHYW5hZGVyYVwiIC9cdTAwM2VcbiAgICBcdTAwM2NsaW5rIHJlbD1cImljb25cIiB0eXBlPVwiaW1hZ2Uvc3ZnK3htbFwiIGhyZWY9XCIvZmF2aWNvbi5zdmdcIiAvXHUwMDNlXG4gICAgXHUwMDNjdGl0bGVcdTAwM2V7dGl0bGV9IHwgTWFzY2xldCBJbXBlcmlcdTAwM2MvdGl0bGVcdTAwM2VcbiAgXHUwMDNjL2hlYWRcdTAwM2VcbiAgXHUwMDNjYm9keSBjbGFzcz1cIm1pbi1oLXNjcmVlbiBmbGV4IGZsZXgtY29sIGJnLWdyYXktNTAgZGFyazpiZy1ncmF5LTkwMCBkYXJrOnRleHQtZ3JheS0xMDBcIlx1MDAzZVxuICBcdTAwM2MhLS0gU2NyaXB0IHBhcmEgYWN0dWFsaXphciBsYSBjb29raWUgZGUgcm9sIGRlIHVzdWFyaW8gLS1cdTAwM2VcbiAgXHUwMDNjc2NyaXB0IHNyYz1cIi9zcmMvc2NyaXB0cy91cGRhdGVVc2VyUm9sZS5qc1wiXHUwMDNlXHUwMDNjL3NjcmlwdFx1MDAzZVxuICAgIFx1MDAzY0F1dGhNaWRkbGV3YXJlIGNsaWVudDpsb2FkIGN1cnJlbnRQYXRoPXtjdXJyZW50UGF0aH1cdTAwM2VcbiAgICAgIFx1MDAzY05hdmJhciB0aXRsZT17dGl0bGV9IHVzZXJSb2xlPXtyb2xlfSBjdXJyZW50UGF0aD17Y3VycmVudFBhdGh9IC9cdTAwM2VcbiAgICAgIFxuICAgICAgXHUwMDNjZGl2IGNsYXNzPVwiZmxleCBmbGV4LTEgcmVsYXRpdmUgb3ZlcmZsb3ctaGlkZGVuXCJcdTAwM2VcbiAgICAgICAgXHUwMDNjIS0tIE1hcmNhIGRlIGFndWEgY29uIGVsIGxvZ28gLS1cdTAwM2VcbiAgICAgICAgXHUwMDNjZGl2IGNsYXNzPVwiYWJzb2x1dGUgaW5zZXQtMCBwb2ludGVyLWV2ZW50cy1ub25lIHotMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBvcGFjaXR5LVswLjAyXSBkYXJrOm9wYWNpdHktWzAuMDFdXCJcdTAwM2VcbiAgICAgICAgICBcdTAwM2NpbWcgc3JjPVwiL2ltYWdlcy9sb2dvX21hc2NsZXQuanBnXCIgYWx0PVwiTWFyY2EgZGUgYWd1YSBNYXNjbGV0IEltcGVyaVwiIGNsYXNzPVwidy1mdWxsIG1heC13LTR4bCBvYmplY3QtY29udGFpblwiIC9cdTAwM2VcbiAgICAgICAgXHUwMDNjL2Rpdlx1MDAzZVxuICAgICAgICBcbiAgICAgICAgXHUwMDNjU2lkZWJhciB1c2VyUm9sZT17cm9sZX0gY3VycmVudFBhdGg9e2N1cnJlbnRQYXRofSAvXHUwMDNlXG4gICAgICAgIFxuICAgICAgICBcdTAwM2MhLS0gQ29udGVuaWRvIHByaW5jaXBhbCBjb24gcGFkZGluZyBhZGFwdGF0aXZvIHkgbWFyZ2VuIHBhcmEgbGEgYmFycmEgbGF0ZXJhbCAtLVx1MDAzZVxuICAgICAgICBcdTAwM2NtYWluIGNsYXNzPVwiZmxleC0xIHAtMyBzbTpwLTQgbWQ6cC02IHJlbGF0aXZlIHotMTAgb3ZlcmZsb3ctYXV0byBtZDptbC02NFwiXHUwMDNlXG4gICAgICAgICAgXHUwMDNjIS0tIENvbnRlbmVkb3IgY29uIGFuY2hvIG3DoXhpbW8gcGFyYSBtZWpvcmFyIGxlZ2liaWxpZGFkIGVuIHBhbnRhbGxhcyBncmFuZGVzIC0tXHUwMDNlXG4gICAgICAgICAgXHUwMDNjZGl2IGNsYXNzPVwibWF4LXctN3hsIG14LWF1dG9cIlx1MDAzZVxuICAgICAgICAgICAgXHUwMDNjc2xvdCAvXHUwMDNlXG4gICAgICAgICAgXHUwMDNjL2Rpdlx1MDAzZVxuICAgICAgICBcdTAwM2MvbWFpblx1MDAzZVxuICAgICAgXHUwMDNjL2Rpdlx1MDAzZVxuICAgICAgXG4gICAgICBcdTAwM2NGb290ZXIgL1x1MDAzZVxuICAgIFx1MDAzYy9BdXRoTWlkZGxld2FyZVx1MDAzZVxuXG4gICAgXHUwMDNjIS0tIEJvdMOzbiBmbG90YW50ZSBwYXJhIG1vc3RyYXIgZWwgc2lkZWJhciBlbiBtw7N2aWwgLS1cdTAwM2VcbiAgICBcdTAwM2NidXR0b24gaWQ9XCJtb2JpbGUtc2lkZWJhci10b2dnbGVcIiBjbGFzcz1cIm1kOmhpZGRlbiBmaXhlZCBib3R0b20tNiByaWdodC02IGJnLXByaW1hcnkgdGV4dC13aGl0ZSBwLTMgcm91bmRlZC1mdWxsIHNoYWRvdy1sZyB6LTMwXCJcdTAwM2VcbiAgICAgIFx1MDAzY3NwYW4gY2xhc3M9XCJ0ZXh0LXhsXCJcdTAwM2XimLBcdTAwM2Mvc3Bhblx1MDAzZVxuICAgIFx1MDAzYy9idXR0b25cdTAwM2VcblxuICAgIFx1MDAzY3NjcmlwdCBpczppbmxpbmVcdTAwM2VcbiAgICAgIC8vIFNjcmlwdCBwYXJhIGVsIHRlbWEgb3NjdXJvL2NsYXJvXG4gICAgICBjb25zdCB0aGVtZSA9ICgoKSA9XHUwMDNlIHtcbiAgICAgICAgaWYgKHR5cGVvZiBsb2NhbFN0b3JhZ2UgIT09ICd1bmRlZmluZWQnIFx1MDAyNlx1MDAyNiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndGhlbWUnKSkge1xuICAgICAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndGhlbWUnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAod2luZG93Lm1hdGNoTWVkaWEoJyhwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyayknKS5tYXRjaGVzKSB7XG4gICAgICAgICAgcmV0dXJuICdkYXJrJztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJ2xpZ2h0JztcbiAgICAgIH0pKCk7XG4gICAgICAgICAgXG4gICAgICBpZiAodGhlbWUgPT09ICdkYXJrJykge1xuICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnZGFyaycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2RhcmsnKTtcbiAgICAgIH1cblxuICAgICAgLy8gU2NyaXB0IHBhcmEgZWwgc2lkZWJhciBtw7N2aWxcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9XHUwMDNlIHtcbiAgICAgICAgY29uc3Qgc2lkZWJhclRvZ2dsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb2JpbGUtc2lkZWJhci10b2dnbGUnKTtcbiAgICAgICAgY29uc3Qgc2lkZWJhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYXNjbGV0LXNpZGViYXInKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChzaWRlYmFyVG9nZ2xlIFx1MDAyNlx1MDAyNiBzaWRlYmFyKSB7XG4gICAgICAgICAgc2lkZWJhclRvZ2dsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID1cdTAwM2Uge1xuICAgICAgICAgICAgc2lkZWJhci5jbGFzc0xpc3QudG9nZ2xlKCdtb2JpbGUtc2lkZWJhci1hY3RpdmUnKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQ2FtYmlhciBlbCDDrWNvbm8gc2Vnw7puIGVsIGVzdGFkb1xuICAgICAgICAgICAgY29uc3QgdG9nZ2xlSWNvbiA9IHNpZGViYXJUb2dnbGUucXVlcnlTZWxlY3Rvcignc3BhbicpO1xuICAgICAgICAgICAgaWYgKHRvZ2dsZUljb24pIHtcbiAgICAgICAgICAgICAgdG9nZ2xlSWNvbi50ZXh0Q29udGVudCA9IHNpZGViYXIuY2xhc3NMaXN0LmNvbnRhaW5zKCdtb2JpbGUtc2lkZWJhci1hY3RpdmUnKSA/ICfinJUnIDogJ+KYsCc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQ2VycmFyIHNpZGViYXIgYWwgaGFjZXIgY2xpYyBmdWVyYSBkZSDDqWxcbiAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9XHUwMDNlIHtcbiAgICAgICAgICAgIGlmIChzaWRlYmFyLmNsYXNzTGlzdC5jb250YWlucygnbW9iaWxlLXNpZGViYXItYWN0aXZlJykgXHUwMDI2XHUwMDI2IFxuICAgICAgICAgICAgICAgICFzaWRlYmFyLmNvbnRhaW5zKGUudGFyZ2V0KSBcdTAwMjZcdTAwMjYgXG4gICAgICAgICAgICAgICAgZS50YXJnZXQgIT09IHNpZGViYXJUb2dnbGUpIHtcbiAgICAgICAgICAgICAgc2lkZWJhci5jbGFzc0xpc3QucmVtb3ZlKCdtb2JpbGUtc2lkZWJhci1hY3RpdmUnKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIFJlc3RhdXJhciDDrWNvbm9cbiAgICAgICAgICAgICAgY29uc3QgdG9nZ2xlSWNvbiA9IHNpZGViYXJUb2dnbGUucXVlcnlTZWxlY3Rvcignc3BhbicpO1xuICAgICAgICAgICAgICBpZiAodG9nZ2xlSWNvbikgdG9nZ2xlSWNvbi50ZXh0Q29udGVudCA9ICfimLAnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICBcdTAwM2Mvc2NyaXB0XHUwMDNlXG5cbiAgICBcdTAwM2NzY3JpcHRcdTAwM2VcbiAgICAgIC8vIFNjcmlwdCBwYXJhIG1hbmVqYXIgbGEgYXV0ZW50aWNhY2nDs24gZGVsIGxhZG8gZGVsIGNsaWVudGVcbiAgICAgIGltcG9ydCB7IGlzQXV0aGVudGljYXRlZCwgZ2V0Q3VycmVudFVzZXIgfSBmcm9tICcuLi9zZXJ2aWNlcy9hdXRoU2VydmljZSc7XG4gICAgICBcbiAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9XHUwMDNlIHtcbiAgICAgICAgLy8gU2kgZXN0YW1vcyBlbiB1bmEgcMOhZ2luYSBwcm90ZWdpZGEgKG5vIGxvZ2luKSB5IG5vIGhheSBhdXRlbnRpY2FjacOzblxuICAgICAgICBpZiAod2luZG93LmxvY2F0aW9uLnBhdGhuYW1lICE9PSAnL2xvZ2luJyBcdTAwMjZcdTAwMjYgIWlzQXV0aGVudGljYXRlZCgpKSB7XG4gICAgICAgICAgLy8gUmVkaXJpZ2lyIGFsIGxvZ2luIGNvbiBsYSBVUkwgYWN0dWFsIGNvbW8gcGFyw6FtZXRybyByZWRpcmVjdFxuICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gYC9sb2dpbj9yZWRpcmVjdD0ke2VuY29kZVVSSUNvbXBvbmVudCh3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUpfWA7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIFx1MDAzYy9zY3JpcHRcdTAwM2VcbiAgXHUwMDNjL2JvZHlcdTAwM2Vcblx1MDAzYy9odG1sXHUwMDNlXG5cblx1MDAzY3N0eWxlIGlzOmdsb2JhbFx1MDAzZVxuICAvKiBFc3RpbG9zIGdsb2JhbGVzIHBhcmEgbGEgYXBsaWNhY2nDs24gKi9cbiAgXG4gIC8qIFNjcm9sbGJhciBwZXJzb25hbGl6YWRhICovXG4gIDo6LXdlYmtpdC1zY3JvbGxiYXIge1xuICAgIHdpZHRoOiA4cHg7XG4gICAgaGVpZ2h0OiA4cHg7XG4gIH1cbiAgXG4gIDo6LXdlYmtpdC1zY3JvbGxiYXItdHJhY2sge1xuICAgIGJhY2tncm91bmQ6ICNmMWYxZjE7XG4gICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICB9XG4gIFxuICA6Oi13ZWJraXQtc2Nyb2xsYmFyLXRodW1iIHtcbiAgICBiYWNrZ3JvdW5kOiAjODg4O1xuICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgfVxuICBcbiAgOjotd2Via2l0LXNjcm9sbGJhci10aHVtYjpob3ZlciB7XG4gICAgYmFja2dyb3VuZDogIzU1NTtcbiAgfVxuICBcbiAgLyogQ2xhc2VzIGRlIHV0aWxpZGFkICovXG4gIC50ZXh0LXNoYWRvdyB7XG4gICAgdGV4dC1zaGFkb3c6IDFweCAxcHggMnB4IHJnYmEoMCwwLDAsMC4xKTtcbiAgfVxuICBcbiAgLyogRXN0aWxvcyBwYXJhIHNpZGViYXIgbcOzdmlsICovXG4gIC5tYXNjbGV0LXNpZGViYXIge1xuICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAwLjNzIGVhc2UtaW4tb3V0O1xuICB9XG4gIFxuICBAbWVkaWEgKG1heC13aWR0aDogNzY4cHgpIHtcbiAgICAubWFzY2xldC1zaWRlYmFyIHtcbiAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgIHRvcDogMDtcbiAgICAgIGxlZnQ6IDA7XG4gICAgICBoZWlnaHQ6IDEwMHZoO1xuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0xMDAlKTtcbiAgICAgIHotaW5kZXg6IDUwO1xuICAgIH1cbiAgICBcbiAgICAubW9iaWxlLXNpZGViYXItYWN0aXZlIHtcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgwKTtcbiAgICAgIGJveC1zaGFkb3c6IDAgMCAxNXB4IHJnYmEoMCwwLDAsMC4yKTtcbiAgICB9XG4gIH1cbiAgXG4gIC8qIEVzdGlsbyBwYXJhIG9wdGltaXphciB1c28gZW4gY2FtcG8gY29uIGd1YW50ZXMgKi9cbiAgQG1lZGlhIChtYXgtd2lkdGg6IDY0MHB4KSB7XG4gICAgYnV0dG9uLCBcbiAgICBhLCBcbiAgICBbcm9sZT1cImJ1dHRvblwiXSxcbiAgICBpbnB1dFt0eXBlPVwiY2hlY2tib3hcIl0sXG4gICAgaW5wdXRbdHlwZT1cInJhZGlvXCJdIHtcbiAgICAgIG1pbi1oZWlnaHQ6IDQ0cHg7IC8qIFRhbWHDsW8gbcOtbmltbyByZWNvbWVuZGFkbyBwYXJhIGNvbnRyb2xlcyB0w6FjdGlsZXMgKi9cbiAgICB9XG4gICAgXG4gICAgc2VsZWN0LCBcbiAgICBpbnB1dFt0eXBlPVwidGV4dFwiXSxcbiAgICBpbnB1dFt0eXBlPVwiZW1haWxcIl0sXG4gICAgaW5wdXRbdHlwZT1cInBhc3N3b3JkXCJdLFxuICAgIGlucHV0W3R5cGU9XCJudW1iZXJcIl0ge1xuICAgICAgZm9udC1zaXplOiAxNnB4OyAvKiBFdml0YSB6b29tIGF1dG9tw6F0aWNvIGVuIGlPUyAqL1xuICAgICAgbWluLWhlaWdodDogNDRweDtcbiAgICB9XG4gIH1cbiAgXG4gIC8qIE1vZG8gZGUgYWx0byBjb250cmFzdGUgcGFyYSB1c28gZW4gZXh0ZXJpb3JlcyAqL1xuICBAbWVkaWEgKG1heC13aWR0aDogNjQwcHgpIHtcbiAgICAuaGlnaC1jb250cmFzdC1tb2RlIHtcbiAgICAgIC0tY29udHJhc3QtYmc6ICMwMDAwMDA7XG4gICAgICAtLWNvbnRyYXN0LXRleHQ6ICNmZmZmZmY7XG4gICAgICAtLWNvbnRyYXN0LXByaW1hcnk6ICNmZmNjMDA7XG4gICAgfVxuICAgIFxuICAgIC5oaWdoLWNvbnRyYXN0LW1vZGUgYm9keSB7XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB2YXIoLS1jb250cmFzdC1iZyk7XG4gICAgICBjb2xvcjogdmFyKC0tY29udHJhc3QtdGV4dCk7XG4gICAgfVxuICAgIFxuICAgIC5oaWdoLWNvbnRyYXN0LW1vZGUgYSxcbiAgICAuaGlnaC1jb250cmFzdC1tb2RlIGJ1dHRvbiB7XG4gICAgICBjb2xvcjogdmFyKC0tY29udHJhc3QtcHJpbWFyeSk7XG4gICAgfVxuICB9XG5cdTAwM2Mvc3R5bGVcdTAwM2UiXSwgIm1hcHBpbmdzIjogIkFBMEhBLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQSxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDakUsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO0FBQy9FO0FBQ0EsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFO0FBQzFELFFBQVEsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQSxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7QUFDOUUsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUU7QUFDekUsVUFBVSxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDeEUsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7QUFDbEcsUUFBUTtBQUNSLE1BQU0sQ0FBQyxDQUFDO0FBQ1I7QUFBQTsiLCAibmFtZXMiOiBbXSB9","/**\n * Script para actualizar la cookie de rol de usuario basado en localStorage\n * Se ejecuta en cada carga de página para mantener sincronizada la UI\n */\n\n// Función para establecer una cookie con un valor\nfunction setCookie(name, value, days = 7) {\n  const expires = new Date(Date.now() + days * 864e5).toUTCString();\n  document.cookie = name + '=' + encodeURIComponent(value) + '; expires=' + expires + '; path=/; SameSite=Lax';\n}\n\n// Función para actualizar el rol del usuario en la cookie\nfunction updateUserRoleFromLocalStorage() {\n  try {\n    // Obtener datos del usuario desde localStorage\n    const userJson = localStorage.getItem('user');\n    \n    if (userJson) {\n      const user = JSON.parse(userJson);\n      \n      // Si el usuario es admin, asegurarse de que tenga el rol correcto\n      if (user.username === 'admin') {\n        if (user.role !== 'administrador') {\n          user.role = 'administrador';\n          // Actualizar localStorage también\n          localStorage.setItem('user', JSON.stringify(user));\n        }\n        setCookie('userRole', 'administrador');\n      } else if (user.role) {\n        // Para otros usuarios, usar el rol almacenado\n        setCookie('userRole', user.role);\n      }\n      \n      console.log('Cookie de rol actualizada:', user.role);\n    } else {\n      console.log('No se encontraron datos de usuario en localStorage');\n    }\n  } catch (error) {\n    console.error('Error al actualizar la cookie de rol:', error);\n  }\n}\n\n// Ejecutar al cargar la página\ndocument.addEventListener('DOMContentLoaded', updateUserRoleFromLocalStorage);\n\n// También ejecutar cada vez que cambie el almacenamiento local\nwindow.addEventListener('storage', (event) => {\n  if (event.key === 'user') {\n    updateUserRoleFromLocalStorage();\n  }\n});\n\n// Ejecutar inmediatamente por si el DOM ya está cargado\nif (document.readyState === 'complete' || document.readyState === 'interactive') {\n  updateUserRoleFromLocalStorage();\n}\n"],"names":["isAuthenticated","setCookie","name","value","days","expires","updateUserRoleFromLocalStorage","userJson","user","error","event"],"mappings":"kJA6HM,SAAS,iBAAiB,mBAAoB,IAAM,CAE9C,OAAO,SAAS,WAAa,UAAY,CAACA,MAE5C,OAAO,SAAS,KAAO,mBAAmB,mBAAmB,OAAO,SAAS,QAAQ,CAAC,GAE1F,CAAC,EC7HP,SAASC,EAAUC,EAAMC,EAAOC,EAAO,EAAG,CACxC,MAAMC,EAAU,IAAI,KAAK,KAAK,IAAG,EAAKD,EAAO,KAAK,EAAE,YAAa,EACjE,SAAS,OAASF,EAAO,IAAM,mBAAmBC,CAAK,EAAI,aAAeE,EAAU,wBACtF,CAGA,SAASC,GAAiC,CACxC,GAAI,CAEF,MAAMC,EAAW,aAAa,QAAQ,MAAM,EAE5C,GAAIA,EAAU,CACZ,MAAMC,EAAO,KAAK,MAAMD,CAAQ,EAG5BC,EAAK,WAAa,SAChBA,EAAK,OAAS,kBAChBA,EAAK,KAAO,gBAEZ,aAAa,QAAQ,OAAQ,KAAK,UAAUA,CAAI,CAAC,GAEnDP,EAAU,WAAY,eAAe,GAC5BO,EAAK,MAEdP,EAAU,WAAYO,EAAK,IAAI,EAGjC,QAAQ,IAAI,6BAA8BA,EAAK,IAAI,CACzD,MACM,QAAQ,IAAI,oDAAoD,CAEnE,OAAQC,EAAO,CACd,QAAQ,MAAM,wCAAyCA,CAAK,CAChE,CACA,CAGA,SAAS,iBAAiB,mBAAoBH,CAA8B,EAG5E,OAAO,iBAAiB,UAAYI,GAAU,CACxCA,EAAM,MAAQ,QAChBJ,EAAgC,CAEpC,CAAC,GAGG,SAAS,aAAe,YAAc,SAAS,aAAe,gBAChEA,EAAgC"}