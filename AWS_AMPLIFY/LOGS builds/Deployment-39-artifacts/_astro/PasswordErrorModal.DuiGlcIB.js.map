{"version":3,"file":"PasswordErrorModal.DuiGlcIB.js","sources":["../../../src/components/modals/PasswordErrorModal.tsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\n\ninterface PasswordErrorModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n}\n\nconst PasswordErrorModal: React.FC<PasswordErrorModalProps> = ({ isOpen: initialIsOpen, onClose }) => {\n  // Estado local para controlar la visibilidad del modal\n  const [isOpen, setIsOpen] = useState(initialIsOpen);\n  const modalRef = useRef<HTMLDivElement>(null);\n  \n  // Función para cerrar el modal\n  const handleClose = () => {\n    setIsOpen(false);\n    if (onClose) onClose();\n  };\n  \n  useEffect(() => {\n    // Actualizar el estado si cambia la prop\n    setIsOpen(initialIsOpen);\n  }, [initialIsOpen]);\n  \n  useEffect(() => {\n    const modalElement = modalRef.current;\n    \n    // Escuchar el evento personalizado para actualizar el estado\n    const handleUpdateState = (event: CustomEvent) => {\n      if (event.detail && typeof event.detail.isOpen === 'boolean') {\n        setIsOpen(event.detail.isOpen);\n      }\n    };\n    \n    // Escuchar el evento personalizado a nivel de documento\n    const handleGlobalEvent = () => {\n      setIsOpen(true);\n    };\n    \n    // Registrar los event listeners\n    if (modalElement) {\n      modalElement.addEventListener('update-modal-state', handleUpdateState as EventListener);\n    }\n    \n    document.addEventListener('show-password-error', handleGlobalEvent);\n    \n    // Limpiar los event listeners al desmontar\n    return () => {\n      if (modalElement) {\n        modalElement.removeEventListener('update-modal-state', handleUpdateState as EventListener);\n      }\n      document.removeEventListener('show-password-error', handleGlobalEvent);\n    };\n  }, []);\n  \n  if (!isOpen) return null;\n\n  return (\n    <div ref={modalRef} id=\"passwordErrorModal\" className=\"fixed inset-0 z-50 overflow-y-auto\" aria-labelledby=\"modal-title\" role=\"dialog\" aria-modal=\"true\">\n      <div className=\"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\n        {/* Overlay de fondo oscuro */}\n        <div \n          className=\"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\" \n          aria-hidden=\"true\"\n          onClick={onClose}\n        ></div>\n\n        {/* Centrar el modal */}\n        <span className=\"hidden sm:inline-block sm:align-middle sm:h-screen\" aria-hidden=\"true\">&#8203;</span>\n        \n        {/* Contenido del modal */}\n        <div className=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\">\n          <div className=\"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\n            <div className=\"sm:flex sm:items-start\">\n              <div className=\"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left\">\n                <h3 className=\"text-lg leading-6 font-medium text-red-600\" id=\"modal-title\">\n                  ¡Acceso denegado!\n                </h3>\n                <div className=\"mt-2\">\n                  <p className=\"text-sm text-gray-500\">\n                    Ramon y su perro protegen el acceso a Masclet Imperi.\n                    <br />\n                    Por favor, verifica tus credenciales e intenta de nuevo.\n                  </p>\n                </div>\n              </div>\n            </div>\n            \n            {/* Imagen del perro de Ramon */}\n            <div className=\"mt-4 flex justify-center\">\n              <img \n                src=\"/images/no_password.webp\" \n                alt=\"Perro de Ramon protegiendo el sistema\" \n                className=\"w-64 h-auto rounded-lg shadow-md\"\n              />\n            </div>\n          </div>\n          \n          <div className=\"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse\">\n            <button \n              type=\"button\" \n              className=\"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-primary text-base font-medium text-white hover:bg-primary/90 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary sm:ml-3 sm:w-auto sm:text-sm\"\n              onClick={handleClose}\n            >\n              Entendido\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PasswordErrorModal;\n"],"names":["PasswordErrorModal","initialIsOpen","onClose","isOpen","setIsOpen","useState","modalRef","useRef","handleClose","useEffect","modalElement","handleUpdateState","event","handleGlobalEvent","jsxs","jsx"],"mappings":"gDAOA,MAAMA,EAAwD,CAAC,CAAE,OAAQC,EAAe,QAAAC,KAAc,CAEpG,KAAM,CAACC,EAAQC,CAAS,EAAIC,EAAAA,SAASJ,CAAa,EAC5CK,EAAWC,SAAuB,IAAI,EAGtCC,EAAc,IAAM,CACxBJ,EAAU,EAAK,EACXF,GAAiBA,EAAA,CACvB,EAsCI,OApCJO,EAAAA,UAAU,IAAM,CAEdL,EAAUH,CAAa,CAAA,EACtB,CAACA,CAAa,CAAC,EAElBQ,EAAAA,UAAU,IAAM,CACd,MAAMC,EAAeJ,EAAS,QAGxBK,EAAqBC,GAAuB,CAC5CA,EAAM,QAAU,OAAOA,EAAM,OAAO,QAAW,WACvCR,EAAAQ,EAAM,OAAO,MAAM,CAEjC,EAGMC,EAAoB,IAAM,CAC9BT,EAAU,EAAI,CAChB,EAGA,OAAIM,GACWA,EAAA,iBAAiB,qBAAsBC,CAAkC,EAG/E,SAAA,iBAAiB,sBAAuBE,CAAiB,EAG3D,IAAM,CACPH,GACWA,EAAA,oBAAoB,qBAAsBC,CAAkC,EAElF,SAAA,oBAAoB,sBAAuBE,CAAiB,CACvE,CACF,EAAG,EAAE,EAEAV,QAGF,MAAI,CAAA,IAAKG,EAAU,GAAG,qBAAqB,UAAU,qCAAqC,kBAAgB,cAAc,KAAK,SAAS,aAAW,OAChJ,SAACQ,OAAA,MAAA,CAAI,UAAU,yFAEb,SAAA,CAAAC,EAAA,IAAC,MAAA,CACC,UAAU,6DACV,cAAY,OACZ,QAASb,CAAA,CACV,QAGA,OAAK,CAAA,UAAU,qDAAqD,cAAY,OAAO,SAAO,IAAA,EAG/FY,EAAAA,KAAC,MAAI,CAAA,UAAU,2JACb,SAAA,CAACA,EAAAA,KAAA,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAC,EAAAA,IAAC,OAAI,UAAU,yBACb,SAACD,EAAA,KAAA,MAAA,CAAI,UAAU,gDACb,SAAA,CAAAC,MAAC,KAAG,CAAA,UAAU,6CAA6C,GAAG,cAAc,SAE5E,oBAAA,QACC,MAAI,CAAA,UAAU,OACb,SAACD,EAAA,KAAA,IAAA,CAAE,UAAU,wBAAwB,SAAA,CAAA,8DAElC,KAAG,EAAA,EAAE,0DAAA,CAAA,CAER,CACF,CAAA,CAAA,CAAA,CACF,CACF,CAAA,EAGAC,EAAAA,IAAC,MAAI,CAAA,UAAU,2BACb,SAAAA,EAAA,IAAC,MAAA,CACC,IAAI,2BACJ,IAAI,wCACJ,UAAU,kCAAA,CAAA,CAEd,CAAA,CAAA,EACF,EAEAA,EAAAA,IAAC,MAAI,CAAA,UAAU,2DACb,SAAAA,EAAA,IAAC,SAAA,CACC,KAAK,SACL,UAAU,iQACV,QAASP,EACV,SAAA,WAAA,CAAA,CAGH,CAAA,CAAA,CACF,CAAA,CAAA,CAAA,CACF,CACF,CAAA,EAtDkB,IAwDtB"}