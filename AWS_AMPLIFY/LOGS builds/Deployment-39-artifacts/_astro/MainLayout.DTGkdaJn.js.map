{"version":3,"file":"MainLayout.DTGkdaJn.js","sources":["../../../src/components/layout/MainLayout.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport type { MainLayoutProps } from '.';\nimport Navbar from './Navbar';\nimport Sidebar from './Sidebar';\nimport Footer from './Footer';\n\n/**\n * Layout principal de la aplicación que integra todos los componentes de navegación\n */\nconst MainLayout: React.FC<MainLayoutProps> = ({\n  userRole = 'administrador', // Por defecto administrador para desarrollo\n  currentPath = '/',\n  title = 'Masclet Imperi',\n  version = '1.0.0',\n  children\n}) => {\n  // Estado para controlar si el sidebar está abierto en dispositivos móviles\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n  \n  // Cierra el sidebar cuando se cambia el tamaño de la ventana\n  useEffect(() => {\n    const handleResize = () => {\n      if (window.innerWidth >= 768) {\n        setIsSidebarOpen(false);\n      }\n    };\n    \n    window.addEventListener('resize', handleResize);\n    return () => {\n      window.removeEventListener('resize', handleResize);\n    };\n  }, []);\n\n  // Función para alternar el estado del sidebar\n  const toggleSidebar = () => {\n    setIsSidebarOpen(!isSidebarOpen);\n  };\n\n  // Cerrar sidebar al hacer clic fuera de él\n  const handleOverlayClick = () => {\n    if (isSidebarOpen) {\n      setIsSidebarOpen(false);\n    }\n  };\n\n  return (\n    <div className=\"flex flex-col min-h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-white\">\n      {/* Navbar en la parte superior */}\n      <Navbar userRole={userRole} currentPath={currentPath} title={title} />\n      \n      <div className=\"flex flex-1 relative\">\n        {/* Sidebar */}\n        <Sidebar \n          userRole={userRole} \n          currentPath={currentPath} \n          isOpen={isSidebarOpen}\n          onToggle={toggleSidebar}\n        />\n        \n        {/* Overlay para cerrar el sidebar en móvil */}\n        {isSidebarOpen && (\n          <div \n            className=\"fixed inset-0 bg-black bg-opacity-50 z-30 md:hidden\"\n            onClick={handleOverlayClick}\n            aria-hidden=\"true\"\n          />\n        )}\n        \n        {/* Toggle del sidebar para móvil (fuera del sidebar) */}\n        <button\n          onClick={toggleSidebar}\n          className=\"fixed bottom-6 left-6 z-40 md:hidden bg-primary hover:bg-primary/80 text-white rounded-full p-3 shadow-lg transition-colors duration-150 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary\"\n          aria-label=\"Toggle sidebar\"\n        >\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M4 6h16M4 12h16m-7 6h7\" />\n          </svg>\n        </button>\n        \n        {/* Contenido principal */}\n        <main className=\"flex-1 overflow-x-hidden p-4 md:p-6 ml-0 md:ml-64 transition-all duration-300\">\n          {/* Título de la página visible en todos los dispositivos */}\n          <div className=\"mb-6\">\n            <h1 className=\"text-xl md:text-2xl font-bold text-gray-900 dark:text-white\">{title}</h1>\n          </div>\n          \n          {/* Contenido de la página */}\n          <div className=\"pb-16 md:pb-8\">\n            {children}\n          </div>\n        </main>\n      </div>\n      \n      {/* Footer en la parte inferior */}\n      <div className=\"mt-auto ml-0 md:ml-64\">\n        <Footer showVersion={true} version={version} />\n      </div>\n    </div>\n  );\n};\n\nexport default MainLayout;\n"],"names":["MainLayout","userRole","currentPath","title","version","children","isSidebarOpen","setIsSidebarOpen","useState","useEffect","handleResize","toggleSidebar","handleOverlayClick","jsxs","jsx","Navbar","Sidebar","Footer"],"mappings":"kMASA,MAAMA,EAAwC,CAAC,CAC7C,SAAAC,EAAW,gBACX,YAAAC,EAAc,IACd,MAAAC,EAAQ,iBACR,QAAAC,EAAU,QACV,SAAAC,CACF,IAAM,CAEJ,KAAM,CAACC,EAAeC,CAAgB,EAAIC,EAAAA,SAAS,EAAK,EAGxDC,EAAAA,UAAU,IAAM,CACd,MAAMC,EAAe,IAAM,CACrB,OAAO,YAAc,KACvBH,EAAiB,EAAK,CAE1B,EAEO,cAAA,iBAAiB,SAAUG,CAAY,EACvC,IAAM,CACJ,OAAA,oBAAoB,SAAUA,CAAY,CACnD,CACF,EAAG,EAAE,EAGL,MAAMC,EAAgB,IAAM,CAC1BJ,EAAiB,CAACD,CAAa,CACjC,EAGMM,EAAqB,IAAM,CAC3BN,GACFC,EAAiB,EAAK,CAE1B,EAGE,OAAAM,EAAA,KAAC,MAAI,CAAA,UAAU,uFAEb,SAAA,CAACC,EAAAA,IAAAC,EAAA,CAAO,SAAAd,EAAoB,YAAAC,EAA0B,MAAAC,CAAc,CAAA,EAEpEU,EAAAA,KAAC,MAAI,CAAA,UAAU,uBAEb,SAAA,CAAAC,EAAA,IAACE,EAAA,CACC,SAAAf,EACA,YAAAC,EACA,OAAQI,EACR,SAAUK,CAAA,CACZ,EAGCL,GACCQ,EAAA,IAAC,MAAA,CACC,UAAU,sDACV,QAASF,EACT,cAAY,MAAA,CACd,EAIFE,EAAA,IAAC,SAAA,CACC,QAASH,EACT,UAAU,kNACV,aAAW,iBAEX,SAAAG,EAAA,IAAC,OAAI,MAAM,6BAA6B,UAAU,UAAU,KAAK,OAAO,QAAQ,YAAY,OAAO,eACjG,SAACA,EAAAA,IAAA,OAAA,CAAK,cAAc,QAAQ,eAAe,QAAQ,YAAa,EAAG,EAAE,wBAAyB,CAAA,CAChG,CAAA,CAAA,CACF,EAGAD,EAAAA,KAAC,OAAK,CAAA,UAAU,gFAEd,SAAA,CAACC,EAAAA,IAAA,MAAA,CAAI,UAAU,OACb,SAAAA,EAAA,IAAC,MAAG,UAAU,8DAA+D,WAAM,CACrF,CAAA,EAGCA,EAAAA,IAAA,MAAA,CAAI,UAAU,gBACZ,SAAAT,CACH,CAAA,CAAA,CACF,CAAA,CAAA,EACF,EAGAS,EAAAA,IAAC,OAAI,UAAU,wBACb,eAACG,EAAO,CAAA,YAAa,GAAM,QAAAb,CAAkB,CAAA,CAC/C,CAAA,CAAA,EACF,CAEJ"}