import{r as t,b as x,a as e}from"./vendor.DPE1g--N.js";const g=()=>{const[s,a]=t.useState(null),[o,i]=t.useState(null),[l,d]=t.useState(!0);t.useEffect(()=>{try{const n=localStorage.getItem("token");if(n)try{const r=x(n);a(r)}catch(r){console.error("Error al decodificar token:",r)}const c=localStorage.getItem("user");if(c)try{const r=JSON.parse(c);i(r)}catch(r){console.error("Error al parsear usuario:",r)}}catch(n){console.error("Error general:",n)}},[]);const h=()=>{d(!l)};return!s&&!o?e.jsx("div",{className:"bg-gray-100 p-3 rounded-lg mb-4",children:"No hay información de sesión"}):e.jsxs("div",{className:"bg-gray-100 p-3 rounded-lg mb-4 text-xs",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h3",{className:"font-bold",children:"Depurador de Login"}),e.jsx("button",{onClick:h,className:"text-blue-500 hover:text-blue-700",children:l?"Ocultar":"Mostrar"})]}),l&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h4",{className:"font-semibold",children:"Token JWT:"}),e.jsx("pre",{className:"bg-white p-2 rounded overflow-auto max-h-32",children:JSON.stringify(s,null,2)}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Sub:"})," ",s?.sub]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Username:"})," ",s?.username]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Role:"})," ",s?.role]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Exp:"})," ",s?.exp?new Date(s.exp*1e3).toLocaleString():"N/A"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:"Usuario en localStorage:"}),e.jsx("pre",{className:"bg-white p-2 rounded overflow-auto max-h-32",children:JSON.stringify(o,null,2)}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Username:"})," ",o?.username]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Rol:"})," ",o?.role]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Email:"})," ",o?.email]})]})]})]})]})};export{g as default};
