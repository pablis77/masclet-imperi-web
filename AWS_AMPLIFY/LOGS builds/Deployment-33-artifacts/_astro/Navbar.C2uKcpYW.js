import{r,a as e}from"./vendor.DPE1g--N.js";import{O as j,A as w}from"./OptimizedImage.D_5JnQxy.js";const k=({userRole:o="usuario",currentPath:c="/",title:g="Masclet Imperi"})=>{const[n,d]=r.useState(!1),[a,m]=r.useState(!1),[i,u]=r.useState(!1),x=[{name:"Dashboard",url:"/",icon:"bull",iconClass:"w-6 h-6",roles:["administrador","Ramon","editor","usuario"]},{name:"Explotaciones",url:"/explotacions",icon:"cow",iconClass:"w-6 h-6",roles:["administrador","Ramon","editor","usuario"]},{name:"Animales",url:"/animals",icon:"nursing-cow",iconClass:"w-6 h-6",roles:["administrador","Ramon","editor","usuario"]},{name:"Usuarios",url:"/users",icon:"users",iconClass:"",roles:["administrador","Ramon"]},{name:"Importaci√≥n",url:"/imports",icon:"import",iconClass:"",roles:["administrador"]},{name:"Backup",url:"/backup",icon:"backup",iconClass:"",roles:["administrador"]},{name:"Mi Perfil",url:"/profile",icon:"user",iconClass:"",roles:["administrador","Ramon","editor","usuario"]}].filter(s=>s.roles.includes(o)),h=s=>!!(s==="/"&&c==="/"||s!=="/"&&c.startsWith(s)),b=()=>{d(!n)},l=()=>{const s=!a;m(s),s?(document.documentElement.classList.add("dark"),localStorage.setItem("darkMode","true")):(document.documentElement.classList.remove("dark"),localStorage.setItem("darkMode","false"))},p=()=>{const s=!i;u(s),s?(document.documentElement.classList.add("high-contrast"),localStorage.setItem("highContrast","true")):(document.documentElement.classList.remove("high-contrast"),localStorage.setItem("highContrast","false"))};r.useEffect(()=>{const s=localStorage.getItem("darkMode")==="true";m(s),s&&document.documentElement.classList.add("dark");const t=localStorage.getItem("highContrast")==="true";u(t),t&&document.documentElement.classList.add("high-contrast")},[]);const f=s=>["bull","cow","nursing-cow"].includes(s.icon)?e.jsx(w,{type:s.icon,size:24,className:`${s.iconClass||""} mr-2`}):s.icon.startsWith("/")?e.jsx("img",{src:s.icon,alt:s.name,className:`${s.iconClass||""} mr-2`}):e.jsx("span",{className:"mr-2 text-xl",children:s.icon});return e.jsxs("header",{className:"bg-primary text-white shadow-lg relative z-40",children:[e.jsxs("div",{className:"container mx-auto px-4 py-3 flex justify-between items-center",children:[e.jsx("div",{className:"flex items-center space-x-2",children:e.jsxs("a",{href:"/",className:"font-bold text-xl flex items-center truncate",children:[e.jsx(j,{src:"/images/logo_masclet.png",alt:"Masclet Imperi",className:"h-10 w-auto mr-2",priority:!0}),e.jsx("span",{className:"hidden xs:inline",children:"MASCLET IMPERI"})]})}),e.jsx("div",{className:"md:hidden text-center font-medium truncate max-w-[140px]",children:g}),e.jsx("nav",{className:"hidden md:flex space-x-4 lg:space-x-6",children:x.map((s,t)=>e.jsxs("a",{href:s.url,className:`
                flex items-center transition-colors duration-150 px-4 py-2 rounded-md text-base
                ${h(s.url)?"bg-primary-dark text-white font-medium":"hover:bg-primary/20"}
              `,children:[f(s),s.name,s.badge&&e.jsx("span",{className:"ml-1.5 bg-accent text-white text-xs px-2 py-0.5 rounded-full",children:s.badge})]},`desktop-nav-${t}`))}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex items-center mr-2 md:hidden",children:e.jsxs("button",{onClick:l,className:"text-white hover:text-alletar transition-colors p-2 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white","aria-label":a?"Cambiar a modo claro":"Cambiar a modo oscuro",children:[e.jsx("span",{className:a?"":"hidden",children:"üåû"}),e.jsx("span",{className:a?"hidden":"",children:"üåô"})]})}),e.jsx("button",{onClick:b,className:"md:hidden text-white text-2xl p-2 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white","aria-label":n?"Cerrar men√∫":"Abrir men√∫",children:n?"‚úï":"‚ò∞"}),e.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[e.jsxs("button",{onClick:l,className:"text-white hover:text-alletar transition-colors p-2 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white","aria-label":a?"Cambiar a modo claro":"Cambiar a modo oscuro",children:[e.jsx("span",{className:a?"":"hidden",children:"üåû"}),e.jsx("span",{className:a?"hidden":"",children:"üåô"})]}),e.jsx("button",{onClick:p,className:"text-white hover:text-alletar transition-colors p-2 hidden xs:block focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white","aria-label":i?"Desactivar alto contraste":"Activar alto contraste",children:e.jsx("span",{children:"üëÅÔ∏è"})}),e.jsx("span",{className:"text-sm capitalize bg-primary-dark/30 px-3 py-1 rounded-full",children:o}),e.jsx("button",{className:"bg-white/10 hover:bg-white/20 transition-colors text-white px-3 py-1.5 rounded-md text-sm font-medium",onClick:()=>{localStorage.removeItem("token"),window.location.href="/login"},children:"Cerrar sesi√≥n"})]})]})]}),e.jsx("div",{className:`md:hidden bg-primary-dark absolute top-full left-0 right-0 shadow-lg z-40 transition-all duration-200 ${n?"max-h-screen opacity-100":"max-h-0 opacity-0 pointer-events-none"} overflow-hidden`,children:e.jsx("div",{className:"container mx-auto px-4 py-2",children:e.jsxs("nav",{className:"flex flex-col",children:[x.map((s,t)=>e.jsxs("a",{href:s.url,className:`
                  flex items-center py-4 px-4 border-b border-white/10 transition-colors text-base
                  ${h(s.url)?"bg-white/10 font-medium":"hover:bg-white/5"}
                `,onClick:()=>d(!1),children:[f(s),e.jsx("span",{children:s.name}),s.badge&&e.jsx("span",{className:"ml-auto bg-accent text-white text-xs px-2 py-0.5 rounded-full",children:s.badge})]},`mobile-nav-${t}`)),e.jsxs("div",{className:"flex flex-wrap justify-between items-center mt-3 pt-2 px-4 gap-2",children:[e.jsxs("button",{onClick:l,className:"flex items-center py-3 focus:outline-none",children:[e.jsx("span",{children:a?"üåû":"üåô"}),e.jsx("span",{className:"ml-3",children:a?"Modo claro":"Modo oscuro"})]}),e.jsxs("button",{onClick:p,className:"flex items-center py-3 focus:outline-none",children:[e.jsx("span",{children:"üëÅÔ∏è"}),e.jsx("span",{className:"ml-3",children:i?"Desactivar contraste":"Alto contraste"})]})]}),e.jsxs("div",{className:"border-t border-white/20 mt-2 pt-2 px-4 flex flex-wrap justify-between items-center gap-2",children:[e.jsx("span",{className:"text-sm capitalize bg-white/10 px-3 py-1 rounded-full",children:o}),e.jsx("button",{className:"bg-white/10 hover:bg-white/20 transition-colors text-white px-3 py-1.5 rounded-md text-sm font-medium",onClick:()=>{localStorage.removeItem("token"),window.location.href="/login"},children:"Cerrar sesi√≥n"})]})]})})})]})};export{k as default};
