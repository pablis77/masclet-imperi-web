document.addEventListener("DOMContentLoaded", () => {
  try {
    import("/src/i18n/config.ts").then(({ t, getCurrentLanguage }) => {
      const clientLang = getCurrentLanguage();
      console.log("Idioma detectado en cliente:", clientLang);
      const updateElement = (id, key) => {
        const element = document.getElementById(id);
        if (element) {
          element.textContent = t(key, clientLang);
        }
      };
      updateElement("page-title", "backup.title");
      updateElement("page-subtitle", "backup.subtitle");
      document.querySelectorAll("[data-i18n-key]").forEach((el) => {
        const key = el.getAttribute("data-i18n-key");
        if (key) {
          el.textContent = t(key, clientLang);
        }
      });
      document.title = t("backup.title", clientLang) + " - Masclet Imperi";
      const tableHeaders = document.querySelectorAll("th");
      if (tableHeaders && tableHeaders.length > 0) {
        const headerTranslations = {
          "Fecha": clientLang === "ca" ? "Data" : "Fecha",
          "Tamaño": clientLang === "ca" ? "Mida" : "Tamaño",
          "Usuario": clientLang === "ca" ? "Usuari" : "Usuario",
          "Tipo": clientLang === "ca" ? "Tipus" : "Tipo",
          "Descripción": clientLang === "ca" ? "Descripció" : "Descripción",
          "Acciones": clientLang === "ca" ? "Accions" : "Acciones",
          "Historial de copias de seguridad": clientLang === "ca" ? "Historial de còpies de seguretat" : "Historial de copias de seguridad"
        };
        const tableTitle = document.querySelector(".bg-gray-50.dark\\:bg-gray-700.text-lg");
        if (tableTitle && tableTitle.textContent) {
          const originalText = tableTitle.textContent.trim();
          if (headerTranslations[originalText]) {
            tableTitle.textContent = headerTranslations[originalText];
          }
        }
        tableHeaders.forEach((th) => {
          const originalText = th.textContent.trim();
          if (headerTranslations[originalText]) {
            th.textContent = headerTranslations[originalText];
          }
        });
      }
    });
  } catch (error) {
    console.error("Error al actualizar traducciones estáticas:", error);
  }
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmFzdHJvIl0sInNvdXJjZXNDb250ZW50IjpbIi0tLVxuLy8gSW1wb3J0YXIgZWwgbGF5b3V0IHkgc2lzdGVtYSBkZSB0cmFkdWNjacOzblxuaW1wb3J0IE1haW5MYXlvdXQgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9sYXlvdXQvTWFpbkxheW91dC5hc3Rybyc7XG5pbXBvcnQgUGVybWlzc2lvbnNNYW5hZ2VyIGZyb20gJy4uLy4uL2NvbXBvbmVudHMvcGVybWlzc2lvbnMvUGVybWlzc2lvbnNNYW5hZ2VyLmFzdHJvJztcbmltcG9ydCB7IHQsIGdldEN1cnJlbnRMYW5ndWFnZSB9IGZyb20gJy4uLy4uL2kxOG4vY29uZmlnJztcblxuLy8gT2J0ZW5lciBlbCBpZGlvbWEgZGVsIHVzdWFyaW8gdXNhbmRvIGVsIHNpc3RlbWEgZ2xvYmFsIGRlIGkxOG5cbmNvbnN0IGN1cnJlbnRMYW5nID0gZ2V0Q3VycmVudExhbmd1YWdlKCk7XG5cbi8vIERldGVjdGFyIGVsIHJvbCBkZWwgdXN1YXJpbyBkZXNkZSBlbCB0b2tlbiAoZWplY3VjacOzbiBlbiBzZXJ2aWRvcilcbmxldCB1c2VyUm9sZSA9ICdndWVzdCc7XG5jb25zdCB0b2tlbiA9IEFzdHJvLmNvb2tpZXMuZ2V0KCd0b2tlbicpPy52YWx1ZTtcbmlmICh0b2tlbikge1xuICB0cnkge1xuICAgIGNvbnN0IHRva2VuUGFydHMgPSB0b2tlbi5zcGxpdCgnLicpO1xuICAgIGlmICh0b2tlblBhcnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgIGNvbnN0IHBheWxvYWQgPSBKU09OLnBhcnNlKGF0b2IodG9rZW5QYXJ0c1sxXSkpO1xuICAgICAgdXNlclJvbGUgPSBwYXlsb2FkLnJvbGUgfHwgJ2d1ZXN0JztcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBkZWNvZGlmaWNhciB0b2tlbjonLCBlKTtcbiAgfVxufVxuXG4vLyBWZXJpZmljYXIgYWNjZXNvIC0gU29sbyBhZG1pbiB5IFJhbW9uIHB1ZWRlbiBhY2NlZGVyIGEgZXN0YSBww6FnaW5hXG5jb25zdCBpc0VkaXRvciA9IHVzZXJSb2xlLnRvTG93ZXJDYXNlKCkgPT09ICdlZGl0b3InO1xuY29uc3QgaGFzQWNjZXNzID0gIWlzRWRpdG9yO1xuXG4vLyBEZWZpbmlyIHTDrXR1bG8gcGFyYSBsYSBww6FnaW5hXG5jb25zdCB0aXRsZSA9IHQoJ2JhY2t1cC50aXRsZScsIGN1cnJlbnRMYW5nKTtcblxuLS0tXG5cbjxNYWluTGF5b3V0IHRpdGxlPXt0aXRsZX0gdXNlclJvbGU9e3VzZXJSb2xlfSBjdXJyZW50UGF0aD1cIi9iYWNrdXBcIj5cbiAgPCEtLSBCbG9xdWVvIHRvdGFsIHBhcmEgdXN1YXJpb3Mgbm8gYXV0b3JpemFkb3MgLS0+XG4gIDxzY3JpcHQgaXM6aW5saW5lPlxuICAgIChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7XG4gICAgICAgIGlmICh0b2tlbikge1xuICAgICAgICAgIGNvbnN0IHBheWxvYWQgPSBKU09OLnBhcnNlKGF0b2IodG9rZW4uc3BsaXQoJy4nKVsxXSkpO1xuICAgICAgICAgIGNvbnN0IHVzZXJSb2xlID0gcGF5bG9hZC5yb2xlIHx8ICdndWVzdCc7XG4gICAgICAgICAgaWYgKHVzZXJSb2xlLnRvTG93ZXJDYXNlKCkgIT09ICdhZG1pbmlzdHJhZG9yJyAmJiB1c2VyUm9sZS50b0xvd2VyQ2FzZSgpICE9PSAncmFtb24nKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnQUNDRVNPIERFTkVHQURPOiBSZWRpcmlnaWVuZG8uLi4nKTtcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy8nO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvbG9naW4nO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yOicsIGUpO1xuICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcvJztcbiAgICAgIH1cbiAgICB9KSgpO1xuICA8L3NjcmlwdD5cbiAgXG4gIDxQZXJtaXNzaW9uc01hbmFnZXIgLz5cbiAgXG4gIDwhLS0gU2NyaXB0IHBhcmEgYWN0dWFsaXphciB0ZXh0b3MgZXN0w6F0aWNvcyBjdWFuZG8gY2FyZ2EgbGEgcMOhZ2luYSAtLT5cbiAgPHNjcmlwdD5cbiAgICAvLyBFc3BlcmFyIGEgcXVlIGVsIHNpc3RlbWEgZGUgaTE4biBlc3TDqSBsaXN0b1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBJbXBvcnRhciBlbCBzaXN0ZW1hIGRlIHRyYWR1Y2Npw7NuXG4gICAgICAgIGltcG9ydCgnLi4vLi4vaTE4bi9jb25maWcuanMnKS50aGVuKCh7IHQsIGdldEN1cnJlbnRMYW5ndWFnZSB9KSA9PiB7XG4gICAgICAgICAgY29uc3QgY2xpZW50TGFuZyA9IGdldEN1cnJlbnRMYW5ndWFnZSgpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdJZGlvbWEgZGV0ZWN0YWRvIGVuIGNsaWVudGU6JywgY2xpZW50TGFuZyk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQWN0dWFsaXphciBlbGVtZW50b3MgZXN0w6F0aWNvcyBjb24gSURcbiAgICAgICAgICBjb25zdCB1cGRhdGVFbGVtZW50ID0gKGlkLCBrZXkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gICAgICAgICAgICBpZiAoZWxlbWVudCkge1xuICAgICAgICAgICAgICBlbGVtZW50LnRleHRDb250ZW50ID0gdChrZXksIGNsaWVudExhbmcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQWN0dWFsaXphciBlbGVtZW50b3MgcHJpbmNpcGFsZXNcbiAgICAgICAgICB1cGRhdGVFbGVtZW50KCdwYWdlLXRpdGxlJywgJ2JhY2t1cC50aXRsZScpO1xuICAgICAgICAgIHVwZGF0ZUVsZW1lbnQoJ3BhZ2Utc3VidGl0bGUnLCAnYmFja3VwLnN1YnRpdGxlJyk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gVGFtYmnDqW4gYWN0dWFsaXphciBvdHJvcyBlbGVtZW50b3MgZXN0w6F0aWNvcyBxdWUgbmVjZXNpdGVuIHRyYWR1Y2Npw7NuXG4gICAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnW2RhdGEtaTE4bi1rZXldJykuZm9yRWFjaChlbCA9PiB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSBlbC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaTE4bi1rZXknKTtcbiAgICAgICAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgICAgICAgZWwudGV4dENvbnRlbnQgPSB0KGtleSwgY2xpZW50TGFuZyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQWN0dWFsaXphciB0w610dWxvIHByaW5jaXBhbCBkZSBsYSBww6FnaW5hXG4gICAgICAgICAgZG9jdW1lbnQudGl0bGUgPSB0KCdiYWNrdXAudGl0bGUnLCBjbGllbnRMYW5nKSArICcgLSBNYXNjbGV0IEltcGVyaSc7XG4gICAgICAgICAgXG4gICAgICAgICAgLy8gQWN0dWFsaXphciBsb3MgZW5jYWJlemFkb3MgZGUgbGEgdGFibGFcbiAgICAgICAgICBjb25zdCB0YWJsZUhlYWRlcnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCd0aCcpO1xuICAgICAgICAgIGlmICh0YWJsZUhlYWRlcnMgJiYgdGFibGVIZWFkZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIC8vIFRyYWR1Y2lyIGVuY2FiZXphZG9zIGVzdMOhbmRhciBkZSBsYSB0YWJsYVxuICAgICAgICAgICAgY29uc3QgaGVhZGVyVHJhbnNsYXRpb25zID0ge1xuICAgICAgICAgICAgICAnRmVjaGEnOiBjbGllbnRMYW5nID09PSAnY2EnID8gJ0RhdGEnIDogJ0ZlY2hhJyxcbiAgICAgICAgICAgICAgJ1RhbWHDsW8nOiBjbGllbnRMYW5nID09PSAnY2EnID8gJ01pZGEnIDogJ1RhbWHDsW8nLFxuICAgICAgICAgICAgICAnVXN1YXJpbyc6IGNsaWVudExhbmcgPT09ICdjYScgPyAnVXN1YXJpJyA6ICdVc3VhcmlvJyxcbiAgICAgICAgICAgICAgJ1RpcG8nOiBjbGllbnRMYW5nID09PSAnY2EnID8gJ1RpcHVzJyA6ICdUaXBvJyxcbiAgICAgICAgICAgICAgJ0Rlc2NyaXBjacOzbic6IGNsaWVudExhbmcgPT09ICdjYScgPyAnRGVzY3JpcGNpw7MnIDogJ0Rlc2NyaXBjacOzbicsXG4gICAgICAgICAgICAgICdBY2Npb25lcyc6IGNsaWVudExhbmcgPT09ICdjYScgPyAnQWNjaW9ucycgOiAnQWNjaW9uZXMnLFxuICAgICAgICAgICAgICAnSGlzdG9yaWFsIGRlIGNvcGlhcyBkZSBzZWd1cmlkYWQnOiBjbGllbnRMYW5nID09PSAnY2EnID8gJ0hpc3RvcmlhbCBkZSBjw7JwaWVzIGRlIHNlZ3VyZXRhdCcgOiAnSGlzdG9yaWFsIGRlIGNvcGlhcyBkZSBzZWd1cmlkYWQnXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBUcmFkdWNpciBlbmNhYmV6YWRvIGRlIGxhIHRhYmxhXG4gICAgICAgICAgICBjb25zdCB0YWJsZVRpdGxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJnLWdyYXktNTAuZGFya1xcXFw6YmctZ3JheS03MDAudGV4dC1sZycpO1xuICAgICAgICAgICAgaWYgKHRhYmxlVGl0bGUgJiYgdGFibGVUaXRsZS50ZXh0Q29udGVudCkge1xuICAgICAgICAgICAgICBjb25zdCBvcmlnaW5hbFRleHQgPSB0YWJsZVRpdGxlLnRleHRDb250ZW50LnRyaW0oKTtcbiAgICAgICAgICAgICAgaWYgKGhlYWRlclRyYW5zbGF0aW9uc1tvcmlnaW5hbFRleHRdKSB7XG4gICAgICAgICAgICAgICAgdGFibGVUaXRsZS50ZXh0Q29udGVudCA9IGhlYWRlclRyYW5zbGF0aW9uc1tvcmlnaW5hbFRleHRdO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIFRyYWR1Y2lyIGVuY2FiZXphZG9zIGRlIGNvbHVtbmFzXG4gICAgICAgICAgICB0YWJsZUhlYWRlcnMuZm9yRWFjaCh0aCA9PiB7XG4gICAgICAgICAgICAgIGNvbnN0IG9yaWdpbmFsVGV4dCA9IHRoLnRleHRDb250ZW50LnRyaW0oKTtcbiAgICAgICAgICAgICAgaWYgKGhlYWRlclRyYW5zbGF0aW9uc1tvcmlnaW5hbFRleHRdKSB7XG4gICAgICAgICAgICAgICAgdGgudGV4dENvbnRlbnQgPSBoZWFkZXJUcmFuc2xhdGlvbnNbb3JpZ2luYWxUZXh0XTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFsIGFjdHVhbGl6YXIgdHJhZHVjY2lvbmVzIGVzdMOhdGljYXM6JywgZXJyb3IpO1xuICAgICAgfVxuICAgIH0pO1xuICA8L3NjcmlwdD5cblxuICA8IS0tIExleWVuZGEgZGVsIHNpc3RlbWEgZGUgYmFja3VwcyAtLT5cbiAgPGRpdiBjbGFzcz1cImJnLWJsdWUtNTAgZGFyazpiZy1ibHVlLTkwMC8zMCBib3JkZXItbC00IGJvcmRlci1ibHVlLTUwMCBwLTQgbWItNiByb3VuZGVkIHNoYWRvdy1zbVwiPlxuICAgIDxoMiBkYXRhLWkxOG4ta2V5PVwiYmFja3VwLnByb3RvY29sXCIgY2xhc3M9XCJ0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1ibHVlLTgwMCBkYXJrOnRleHQtYmx1ZS0zMDAgbWItMlwiPnt0KCdiYWNrdXAucHJvdG9jb2wnLCBjdXJyZW50TGFuZyl9PC9oMj5cbiAgICA8ZGl2IGNsYXNzPVwidGV4dC1zbSB0ZXh0LWJsdWUtNzAwIGRhcms6dGV4dC1ibHVlLTIwMCBzcGFjZS15LTJcIj5cbiAgICAgIDxwPjxzdHJvbmcgZGF0YS1pMThuLWtleT1cImJhY2t1cC5hdXRvbWF0aWNcIj57dCgnYmFja3VwLmF1dG9tYXRpYycsIGN1cnJlbnRMYW5nKX06PC9zdHJvbmc+IDxzcGFuIGRhdGEtaTE4bi1rZXk9XCJiYWNrdXAuYXV0b21hdGljRGVzY1wiPnt0KCdiYWNrdXAuYXV0b21hdGljRGVzYycsIGN1cnJlbnRMYW5nKX08L3NwYW4+PC9wPlxuICAgICAgPHVsIGNsYXNzPVwibGlzdC1kaXNjIG1sLTUgc3BhY2UteS0xXCI+XG4gICAgICAgIDxsaSBkYXRhLWkxOG4ta2V5PVwiYmFja3VwLmF1dG9EYWlseVwiPnt0KCdiYWNrdXAuYXV0b0RhaWx5JywgY3VycmVudExhbmcpfTwvbGk+XG4gICAgICAgIDxsaSBkYXRhLWkxOG4ta2V5PVwiYmFja3VwLmF1dG9OZXdBbmltYWxzXCI+e3QoJ2JhY2t1cC5hdXRvTmV3QW5pbWFscycsIGN1cnJlbnRMYW5nKX08L2xpPlxuICAgICAgICA8bGkgZGF0YS1pMThuLWtleT1cImJhY2t1cC5hdXRvRWRpdGVkQW5pbWFsc1wiPnt0KCdiYWNrdXAuYXV0b0VkaXRlZEFuaW1hbHMnLCBjdXJyZW50TGFuZyl9PC9saT5cbiAgICAgICAgPGxpIGRhdGEtaTE4bi1rZXk9XCJiYWNrdXAuYXV0b0FmdGVySW1wb3J0XCI+e3QoJ2JhY2t1cC5hdXRvQWZ0ZXJJbXBvcnQnLCBjdXJyZW50TGFuZyl9PC9saT5cbiAgICAgIDwvdWw+XG4gICAgICA8cCBjbGFzcz1cIm10LTJcIj48c3Ryb25nIGRhdGEtaTE4bi1rZXk9XCJiYWNrdXAucmV0ZW50aW9uUG9saWN5XCI+e3QoJ2JhY2t1cC5yZXRlbnRpb25Qb2xpY3knLCBjdXJyZW50TGFuZyl9Ojwvc3Ryb25nPiA8c3BhbiBkYXRhLWkxOG4ta2V5PVwiYmFja3VwLnJldGVudGlvbkRlc2NcIj57dCgnYmFja3VwLnJldGVudGlvbkRlc2MnLCBjdXJyZW50TGFuZyl9PC9zcGFuPjwvcD5cbiAgICAgIDx1bCBjbGFzcz1cImxpc3QtZGlzYyBtbC01IHNwYWNlLXktMVwiPlxuICAgICAgICA8bGkgZGF0YS1pMThuLWtleT1cImJhY2t1cC5yZXRlbnRpb25EYWlseVwiPnt0KCdiYWNrdXAucmV0ZW50aW9uRGFpbHknLCBjdXJyZW50TGFuZyl9PC9saT5cbiAgICAgICAgPGxpIGRhdGEtaTE4bi1rZXk9XCJiYWNrdXAucmV0ZW50aW9uV2Vla2x5XCI+e3QoJ2JhY2t1cC5yZXRlbnRpb25XZWVrbHknLCBjdXJyZW50TGFuZyl9PC9saT5cbiAgICAgIDwvdWw+XG4gICAgICA8cCBjbGFzcz1cIm10LTJcIj48c3Ryb25nIGRhdGEtaTE4bi1rZXk9XCJiYWNrdXAuc3RvcmFnZVwiPnt0KCdiYWNrdXAuc3RvcmFnZScsIGN1cnJlbnRMYW5nKX06PC9zdHJvbmc+IDxzcGFuIGRhdGEtaTE4bi1rZXk9XCJiYWNrdXAuc3RvcmFnZURlc2NcIj57dCgnYmFja3VwLnN0b3JhZ2VEZXNjJywgY3VycmVudExhbmcpfTwvc3Bhbj48L3A+XG4gICAgICA8cCBjbGFzcz1cIm10LTJcIj48c3Ryb25nIGRhdGEtaTE4bi1rZXk9XCJiYWNrdXAubWFudWFsQmFja3Vwc1wiPnt0KCdiYWNrdXAubWFudWFsQmFja3VwcycsIGN1cnJlbnRMYW5nKX06PC9zdHJvbmc+IDxzcGFuIGRhdGEtaTE4bi1rZXk9XCJiYWNrdXAubWFudWFsRGVzY1wiPnt0KCdiYWNrdXAubWFudWFsRGVzYycsIGN1cnJlbnRMYW5nKX08L3NwYW4+PC9wPlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cblxuICA8IS0tIEFsZXJ0YSBwYXJhIG1vc3RyYXIgbWVuc2FqZXMgZGUgb3BlcmFjaW9uZXMgLS0+XG4gIDxkaXYgaWQ9XCJhbGVydC1jb250YWluZXJcIiBjbGFzcz1cImhpZGRlbiBtYi00XCI+XG4gICAgPGRpdiBpZD1cImFsZXJ0XCIgY2xhc3M9XCJwLTQgcm91bmRlZC1tZCB0ZXh0LWNlbnRlclwiPlxuICAgICAgPHNwYW4gaWQ9XCJhbGVydC1tZXNzYWdlXCI+PC9zcGFuPlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cblxuICA8ZGl2IGNsYXNzPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBnYXAtNiBtYi04XCI+XG4gICAgPCEtLSBDcmVhciBiYWNrdXAgLS0+XG4gICAgPGRpdiBjbGFzcz1cImJnLXdoaXRlIGRhcms6YmctZ3JheS04MDAgcC02IHJvdW5kZWQtbGcgc2hhZG93IGJvcmRlciBib3JkZXItZ3JheS0xMDAgZGFyazpib3JkZXItZ3JheS03MDBcIj5cbiAgICAgIDxoMiBkYXRhLWkxOG4ta2V5PVwiYmFja3VwLmNyZWF0ZUJhY2t1cFwiIGNsYXNzPVwidGV4dC14bCBmb250LXNlbWlib2xkIG1iLTQgdGV4dC1ncmF5LTgwMCBkYXJrOnRleHQtd2hpdGVcIj57dCgnYmFja3VwLmNyZWF0ZUJhY2t1cCcsIGN1cnJlbnRMYW5nKX08L2gyPlxuICAgICAgPHAgZGF0YS1pMThuLWtleT1cImJhY2t1cC5jcmVhdGVEZXNjXCIgY2xhc3M9XCJ0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTMwMCBtYi00XCI+e3QoJ2JhY2t1cC5jcmVhdGVEZXNjJywgY3VycmVudExhbmcpfTwvcD5cbiAgICAgIDxkaXYgY2xhc3M9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgPGRpdj5cbiAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTIgdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0yMDBcIj5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBpZD1cImluY2x1ZGUtYW5pbWFsc1wiIGNoZWNrZWQgY2xhc3M9XCJmb3JtLWNoZWNrYm94IHRleHQtcHJpbWFyeSBkYXJrOmJvcmRlci1ncmF5LTYwMFwiIC8+XG4gICAgICAgICAgICA8c3BhbiBkYXRhLWkxOG4ta2V5PVwiYmFja3VwLmluY2x1ZGVBbmltYWxzXCI+e3QoJ2JhY2t1cC5pbmNsdWRlQW5pbWFscycsIGN1cnJlbnRMYW5nKX08L3NwYW4+XG4gICAgICAgICAgPC9sYWJlbD5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXY+XG4gICAgICAgICAgPGxhYmVsIGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMjAwXCI+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCJpbmNsdWRlLWJpcnRoc1wiIGNoZWNrZWQgY2xhc3M9XCJmb3JtLWNoZWNrYm94IHRleHQtcHJpbWFyeSBkYXJrOmJvcmRlci1ncmF5LTYwMFwiIC8+XG4gICAgICAgICAgICA8c3BhbiBkYXRhLWkxOG4ta2V5PVwiYmFja3VwLmluY2x1ZGVCaXJ0aHNcIj57dCgnYmFja3VwLmluY2x1ZGVCaXJ0aHMnLCBjdXJyZW50TGFuZyl9PC9zcGFuPlxuICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2PlxuICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMiB0ZXh0LWdyYXktNzAwIGRhcms6dGV4dC1ncmF5LTIwMFwiPlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGlkPVwiaW5jbHVkZS1jb25maWdcIiBjaGVja2VkIGNsYXNzPVwiZm9ybS1jaGVja2JveCB0ZXh0LXByaW1hcnkgZGFyazpib3JkZXItZ3JheS02MDBcIiAvPlxuICAgICAgICAgICAgPHNwYW4gZGF0YS1pMThuLWtleT1cImJhY2t1cC5pbmNsdWRlQ29uZmlnXCI+e3QoJ2JhY2t1cC5pbmNsdWRlQ29uZmlnJywgY3VycmVudExhbmcpfTwvc3Bhbj5cbiAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzcz1cIm10LTRcIj5cbiAgICAgICAgPGJ1dHRvbiBpZD1cImNyZWF0ZS1iYWNrdXAtYnRuXCIgY2xhc3M9XCJ3LWZ1bGwgYmctcHJpbWFyeSB0ZXh0LXdoaXRlIHB4LTQgcHktMiByb3VuZGVkLW1kIGhvdmVyOmJnLXByaW1hcnktZGFyayBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctcHJpbWFyeS1saWdodFwiPlxuICAgICAgICAgIDxzcGFuIGRhdGEtaTE4bi1rZXk9XCJiYWNrdXAuY3JlYXRlQnV0dG9uXCI+e3QoJ2JhY2t1cC5jcmVhdGVCdXR0b24nLCBjdXJyZW50TGFuZyl9PC9zcGFuPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuXG4gICAgPCEtLSBSZXN0YXVyYXIgYmFja3VwIC0tPlxuICAgIDxkaXYgY2xhc3M9XCJiZy13aGl0ZSBkYXJrOmJnLWdyYXktODAwIHJvdW5kZWQtbGcgc2hhZG93IHAtNiBib3JkZXIgYm9yZGVyLWdyYXktMTAwIGRhcms6Ym9yZGVyLWdyYXktNzAwXCI+XG4gICAgICA8aDIgZGF0YS1pMThuLWtleT1cImJhY2t1cC5yZXN0b3JlQmFja3VwXCIgY2xhc3M9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgbWItNCB0ZXh0LWdyYXktODAwIGRhcms6dGV4dC13aGl0ZVwiPnt0KCdiYWNrdXAucmVzdG9yZUJhY2t1cCcsIGN1cnJlbnRMYW5nKX08L2gyPlxuXG4gICAgICB7dXNlclJvbGUgIT09IFwiYWRtaW5pc3RyYWRvclwiICYmIChcbiAgICAgICAgPGRpdiBjbGFzcz1cImJnLXllbGxvdy01MCBib3JkZXItbC00IGJvcmRlci15ZWxsb3ctNDAwIHAtNCBtYi00XCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXhcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4LXNocmluay0wXCI+XG4gICAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJoLTUgdy01IHRleHQteWVsbG93LTQwMFwiIHZpZXdCb3g9XCIwIDAgMjAgMjBcIiBmaWxsPVwiY3VycmVudENvbG9yXCI+XG4gICAgICAgICAgICAgICAgPHBhdGggZmlsbC1ydWxlPVwiZXZlbm9kZFwiIGQ9XCJNOC4yNTcgMy4wOTljLjc2NS0xLjM2IDIuNzIyLTEuMzYgMy40ODYgMGw1LjU4IDkuOTJjLjc1IDEuMzM0LS4yMTMgMi45OC0xLjc0MiAyLjk4SDQuNDJjLTEuNTMgMC0yLjQ5My0xLjY0Ni0xLjc0My0yLjk4bDUuNTgtOS45MnpNMTEgMTNhMSAxIDAgMTEtMiAwIDEgMSAwIDAxMiAwem0tMS04YTEgMSAwIDAwLTEgMXYzYTEgMSAwIDAwMiAwVjZhMSAxIDAgMDAtMS0xelwiIGNsaXAtcnVsZT1cImV2ZW5vZGRcIj48L3BhdGg+XG4gICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWwtM1wiPlxuICAgICAgICAgICAgICA8cCBjbGFzcz1cInRleHQtc20gdGV4dC15ZWxsb3ctNzAwXCI+XG4gICAgICAgICAgICAgICAgRXN0YSBmdW5jacOzbiBkZSByZXN0YXVyYWNpw7NuIHNvbG8gZXN0w6EgZGlzcG9uaWJsZSBwYXJhIGFkbWluaXN0cmFkb3Jlcy4gUHVlZGVzIHZlciB5IGRlc2NhcmdhciBsb3MgYmFja3VwcyBwZXJvIG5vIHJlc3RhdXJhcmxvcy5cbiAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgKX1cbiAgICAgIFxuICAgICAgPHAgY2xhc3M9XCJ0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTMwMCBtYi00XCI+XG4gICAgICAgIDxzcGFuIGRhdGEtaTE4bi1rZXk9XCJiYWNrdXAucmVzdG9yZURlc2NcIj57dCgnYmFja3VwLnJlc3RvcmVEZXNjJywgY3VycmVudExhbmcpfTwvc3Bhbj5cbiAgICAgICAgPHNwYW4gZGF0YS1pMThuLWtleT1cImJhY2t1cC53YXJuaW5nXCIgY2xhc3M9XCJmb250LXNlbWlib2xkIHRleHQtYW1iZXItNjAwIGRhcms6dGV4dC1hbWJlci00MDBcIj57dCgnYmFja3VwLndhcm5pbmcnLCBjdXJyZW50TGFuZyl9PC9zcGFuPlxuICAgICAgPC9wPlxuICAgICAgPGRpdiBjbGFzcz1cImJvcmRlci0yIGJvcmRlci1kYXNoZWQgYm9yZGVyLWdyYXktMzAwIGRhcms6Ym9yZGVyLWdyYXktNjAwIHJvdW5kZWQtbGcgcC02IG1iLTQgdGV4dC1jZW50ZXJcIiBpZD1cInJlc3RvcmUtc2VjdGlvblwiPlxuICAgICAgICA8ZGl2IGlkPVwic2VsZWN0ZWQtYmFja3VwLWNvbnRhaW5lclwiIGNsYXNzPVwiaGlkZGVuXCI+XG4gICAgICAgICAgPHAgY2xhc3M9XCJtYi0yXCIgZGF0YS1pMThuLWtleT1cImJhY2t1cC5zZWxlY3RGaWxlXCI+e3QoJ2JhY2t1cC5zZWxlY3RGaWxlJywgY3VycmVudExhbmcpfTogPHNwYW4gaWQ9XCJzZWxlY3RlZC1iYWNrdXAtbmFtZVwiIGNsYXNzPVwiZm9udC1zZW1pYm9sZFwiPjwvc3Bhbj48L3A+XG4gICAgICAgICAgPGJ1dHRvbiBpZD1cImNoYW5nZS1iYWNrdXAtYnRuXCIgY2xhc3M9XCJtdC0yIHB4LTQgcHktMiBiZy1ncmF5LTIwMCBkYXJrOmJnLWdyYXktNzAwIHRleHQtZ3JheS03MDAgZGFyazp0ZXh0LWdyYXktMjAwIGhvdmVyOmJnLWdyYXktMzAwIGRhcms6aG92ZXI6YmctZ3JheS02MDAgcm91bmRlZC1tZCB0cmFuc2l0aW9uLWNvbG9yc1wiIFxuICAgICAgICAgICAgICAgICBkYXRhLXJlcXVpcmVzLWFkbWluPVwidHJ1ZVwiIGRhdGEtaTE4bi1rZXk9XCJiYWNrdXAuc2VsZWN0QnV0dG9uXCI+e3QoJ2JhY2t1cC5zZWxlY3RCdXR0b24nLCBjdXJyZW50TGFuZyl9PC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGlkPVwibm8tc2VsZWN0ZWQtYmFja3VwLWNvbnRhaW5lclwiIGNsYXNzPVwidGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICA8cCBjbGFzcz1cIm1iLTJcIiBkYXRhLWkxOG4ta2V5PVwiYmFja3VwLnNlbGVjdEZpbGVcIj57dCgnYmFja3VwLnNlbGVjdEZpbGUnLCBjdXJyZW50TGFuZyl9PC9wPlxuICAgICAgICAgIDxwIGNsYXNzPVwidGV4dC1zbVwiIGRhdGEtaTE4bi1rZXk9XCJiYWNrdXAub3JcIj57dCgnYmFja3VwLm9yJywgY3VycmVudExhbmcpfTwvcD5cbiAgICAgICAgICA8YnV0dG9uIGlkPVwic2VsZWN0LWJhY2t1cC1idG5cIiBjbGFzcz1cIm10LTIgcHgtNCBweS0yIGJnLWdyYXktMjAwIGRhcms6YmctZ3JheS03MDAgdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0yMDAgaG92ZXI6YmctZ3JheS0zMDAgZGFyazpob3ZlcjpiZy1ncmF5LTYwMCByb3VuZGVkLW1kIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgICAgICAgICAgZGF0YS1yZXF1aXJlcy1hZG1pbj1cInRydWVcIiBkYXRhLWkxOG4ta2V5PVwiYmFja3VwLnNlbGVjdEJ1dHRvblwiPnt0KCdiYWNrdXAuc2VsZWN0QnV0dG9uJywgY3VycmVudExhbmcpfTwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGJ1dHRvbiBpZD1cInJlc3RvcmUtYmFja3VwLWJ0blwiIGNsYXNzPVwidy1mdWxsIHB4LTQgcHktMiBiZy1yZWQtNjAwIHRleHQtd2hpdGUgaG92ZXI6YmctcmVkLTcwMCBkYXJrOmJnLXJlZC03MDAgZGFyazpob3ZlcjpiZy1yZWQtODAwIHJvdW5kZWQtbWQgdHJhbnNpdGlvbi1jb2xvcnMgb3BhY2l0eS01MCBjdXJzb3Itbm90LWFsbG93ZWRcIiBcbiAgICAgICAgICAgICBkaXNhYmxlZCBkYXRhLXJlcXVpcmVzLWFkbWluPVwidHJ1ZVwiIGRhdGEtaTE4bi1rZXk9XCJiYWNrdXAucmVzdG9yZUJ1dHRvblwiPnt0KCdiYWNrdXAucmVzdG9yZUJ1dHRvbicsIGN1cnJlbnRMYW5nKX08L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG5cbiAgPCEtLSBIaXN0b3JpYWwgZGUgYmFja3VwcyAtLT5cbiAgPGRpdiBjbGFzcz1cImJnLXdoaXRlIGRhcms6YmctZ3JheS04MDAgcm91bmRlZC1sZyBzaGFkb3cgb3ZlcmZsb3ctaGlkZGVuIGJvcmRlciBib3JkZXItZ3JheS0xMDAgZGFyazpib3JkZXItZ3JheS03MDBcIj5cbiAgICA8aDMgY2xhc3M9XCJweC02IHB5LTQgYmctZ3JheS01MCBkYXJrOmJnLWdyYXktNzAwIHRleHQtbGcgZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktODAwIGRhcms6dGV4dC13aGl0ZVwiPnt0KCdiYWNrdXAuaGlzdG9yeVRpdGxlJywgY3VycmVudExhbmcpfTwvaDM+XG4gICAgPGRpdiBjbGFzcz1cIm92ZXJmbG93LXgtYXV0b1wiPlxuICAgICAgPHRhYmxlIGNsYXNzPVwibWluLXctZnVsbCBkaXZpZGUteSBkaXZpZGUtZ3JheS0yMDAgZGFyazpkaXZpZGUtZ3JheS03MDBcIj5cbiAgICAgICAgPHRoZWFkIGNsYXNzPVwiYmctZ3JheS01MCBkYXJrOmJnLWdyYXktNzAwXCI+XG4gICAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRoIGNsYXNzPVwicHgtNiBweS0zIHRleHQtbGVmdCB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktMzAwIHVwcGVyY2FzZSB0cmFja2luZy13aWRlclwiPnt0KCdiYWNrdXAuZGF0ZScsIGN1cnJlbnRMYW5nKX08L3RoPlxuICAgICAgICAgICAgPHRoIGNsYXNzPVwicHgtNiBweS0zIHRleHQtbGVmdCB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktMzAwIHVwcGVyY2FzZSB0cmFja2luZy13aWRlclwiPnt0KCdiYWNrdXAuc2l6ZScsIGN1cnJlbnRMYW5nKX08L3RoPlxuICAgICAgICAgICAgPHRoIGNsYXNzPVwicHgtNiBweS0zIHRleHQtbGVmdCB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktMzAwIHVwcGVyY2FzZSB0cmFja2luZy13aWRlclwiPnt0KCdiYWNrdXAuY3JlYXRlZEJ5JywgY3VycmVudExhbmcpfTwvdGg+XG4gICAgICAgICAgICA8dGggY2xhc3M9XCJweC02IHB5LTMgdGV4dC1sZWZ0IHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS0zMDAgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVyXCI+e3QoJ2JhY2t1cC50eXBlJywgY3VycmVudExhbmcpIHx8ICdUaXBvJ308L3RoPlxuICAgICAgICAgICAgPHRoIGNsYXNzPVwicHgtNiBweS0zIHRleHQtbGVmdCB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktMzAwIHVwcGVyY2FzZSB0cmFja2luZy13aWRlclwiPnt0KCdiYWNrdXAuZGVzY3JpcHRpb24nLCBjdXJyZW50TGFuZykgfHwgJ0Rlc2NyaXBjacOzbid9PC90aD5cbiAgICAgICAgICAgIDx0aCBjbGFzcz1cInB4LTYgcHktMyB0ZXh0LWxlZnQgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTMwMCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXJcIj57dCgnYmFja3VwLmFjdGlvbnMnLCBjdXJyZW50TGFuZyl9PC90aD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICA8L3RoZWFkPlxuICAgICAgICA8dGJvZHkgaWQ9XCJiYWNrdXBzLXRhYmxlLWJvZHlcIiBjbGFzcz1cImJnLXdoaXRlIGRhcms6YmctZ3JheS04MDAgZGl2aWRlLXkgZGl2aWRlLWdyYXktMjAwIGRhcms6ZGl2aWRlLWdyYXktNzAwXCI+XG4gICAgICAgICAgPCEtLSBBcXXDrSBzZSBjYXJnYXLDoW4gbG9zIGJhY2t1cHMgZGluw6FtaWNhbWVudGUgLS0+XG4gICAgICAgICAgPHRyIGNsYXNzPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgIDx0ZCBjb2xzcGFuPVwiNVwiIGNsYXNzPVwicHgtNiBweS00IHRleHQtc20gdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS0zMDBcIj57dCgnYmFja3VwLmxvYWRpbmcnLCBjdXJyZW50TGFuZyl9PC90ZD5cbiAgICAgICAgICAgIDx0ZCBjbGFzcz1cInB4LTYgcHktNCB3aGl0ZXNwYWNlLW5vd3JhcCB0ZXh0LXNtIGZvbnQtbWVkaXVtXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmbGV4IHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJ0ZXh0LWluZGlnby02MDAgZGFyazp0ZXh0LWluZGlnby00MDAgaG92ZXI6dGV4dC1pbmRpZ28tOTAwIGRhcms6aG92ZXI6dGV4dC1pbmRpZ28tMzAwXCI+e3QoJ2JhY2t1cC5kb3dubG9hZCcsIGN1cnJlbnRMYW5nKX08L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwidGV4dC1hbWJlci02MDAgZGFyazp0ZXh0LWFtYmVyLTQwMCBob3Zlcjp0ZXh0LWFtYmVyLTkwMCBkYXJrOmhvdmVyOnRleHQtYW1iZXItMzAwXCI+e3QoJ2JhY2t1cC5yZXN0b3JlJywgY3VycmVudExhbmcpfTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJ0ZXh0LXJlZC02MDAgZGFyazp0ZXh0LXJlZC00MDAgaG92ZXI6dGV4dC1yZWQtOTAwIGRhcms6aG92ZXI6dGV4dC1yZWQtMzAwXCI+e3QoJ2JhY2t1cC5kZWxldGUnLCBjdXJyZW50TGFuZyl9PC9idXR0b24+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICA8L3RyPlxuICAgICAgICA8L3Rib2R5PlxuICAgICAgPC90YWJsZT5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG5cblxuICBcbiAgPHNjcmlwdD5cbiAgICAvLyBJbXBvcnRhciBzZXJ2aWNpb3MgcGFyYSBtYW5lamFyIGJhY2t1cHNcbiAgICBpbXBvcnQgeyBnZXRCYWNrdXBzTGlzdCwgY3JlYXRlQmFja3VwLCByZXN0b3JlQmFja3VwLCBkZWxldGVCYWNrdXAsIGdldEJhY2t1cERvd25sb2FkVXJsIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvYmFja3VwU2VydmljZS5qcyc7XG4gICAgaW1wb3J0IHsgdCBhcyB0cmFuc2xhdGUsIGdldEN1cnJlbnRMYW5ndWFnZSB9IGZyb20gJy4uLy4uL2kxOG4vY29uZmlnLnRzJztcbiAgICBcbiAgICAvLyBPYnRlbmVyIGVsIGlkaW9tYSBhY3R1YWwgdXNhbmRvIGVsIHNpc3RlbWEgZ2xvYmFsXG4gICAgY29uc3QgY3VycmVudExhbmcgPSBnZXRDdXJyZW50TGFuZ3VhZ2UoKTtcbiAgICBcbiAgICAvLyBGdW5jacOzbiBhdXhpbGlhciBwYXJhIG9idGVuZXIgdHJhZHVjY2lvbmVzIGNvbiBmYWxsYmFja1xuICAgIGNvbnN0IHQgPSAoa2V5LCBsYW5nID0gY3VycmVudExhbmcpID0+IHtcbiAgICAgIC8vIEludGVudGFyIG9idGVuZXIgbGEgdHJhZHVjY2nDs24gZGVsIHNpc3RlbWEgZ2xvYmFsXG4gICAgICBjb25zdCB0cmFuc2xhdGlvbiA9IHRyYW5zbGF0ZShrZXksIGxhbmcpO1xuICAgICAgXG4gICAgICAvLyBTaSBsYSB0cmFkdWNjacOzbiByZXRvcm5hIGxhIGtleSBvcmlnaW5hbCwgZXMgcXVlIG5vIHNlIGVuY29udHLDs1xuICAgICAgaWYgKHRyYW5zbGF0aW9uID09PSBrZXkpIHtcbiAgICAgICAgLy8gVHJhZHVjY2lvbmVzIGhhcmRjb2RlYWRhcyBjb21vIGZhbGxiYWNrXG4gICAgICAgIGNvbnN0IGhhcmRjb2RlZFRyYW5zbGF0aW9ucyA9IHtcbiAgICAgICAgICAnYmFja3VwLmRvd25sb2FkJzogbGFuZyA9PT0gJ2NhJyA/ICdEZXNjYXJyZWdhcicgOiAnRGVzY2FyZ2FyJyxcbiAgICAgICAgICAnYmFja3VwLnJlc3RvcmUnOiBsYW5nID09PSAnY2EnID8gJ1Jlc3RhdXJhcicgOiAnUmVzdGF1cmFyJyxcbiAgICAgICAgICAnYmFja3VwLmRlbGV0ZSc6IGxhbmcgPT09ICdjYScgPyAnRWxpbWluYXInIDogJ0VsaW1pbmFyJyxcbiAgICAgICAgICAnYmFja3VwLmxvYWRpbmcnOiBsYW5nID09PSAnY2EnID8gJ0NhcnJlZ2FudC4uLicgOiAnQ2FyZ2FuZG8uLi4nLFxuICAgICAgICAgICdiYWNrdXAubm9fYmFja3Vwcyc6IGxhbmcgPT09ICdjYScgPyAnTm8gaGkgaGEgY8OycGllcyBkZSBzZWd1cmV0YXQgZGlzcG9uaWJsZXMnIDogJ05vIGhheSBjb3BpYXMgZGUgc2VndXJpZGFkIGRpc3BvbmlibGVzJyxcbiAgICAgICAgICAnYmFja3VwLmJhY2t1cF9jcmVhdGVkJzogbGFuZyA9PT0gJ2NhJyA/ICdDw7JwaWEgZGUgc2VndXJldGF0IGNyZWFkYSBhbWIgw6h4aXQnIDogJ0NvcGlhIGRlIHNlZ3VyaWRhZCBjcmVhZGEgY29uIMOpeGl0bycsXG4gICAgICAgICAgJ2JhY2t1cC5iYWNrdXBfZXJyb3InOiBsYW5nID09PSAnY2EnID8gJ0Vycm9yIGFsIGNyZWFyIGxhIGPDsnBpYSBkZSBzZWd1cmV0YXQnIDogJ0Vycm9yIGFsIGNyZWFyIGxhIGNvcGlhIGRlIHNlZ3VyaWRhZCcsXG4gICAgICAgICAgJ2JhY2t1cC5yZXN0b3JlX3N1Y2Nlc3MnOiBsYW5nID09PSAnY2EnID8gJ1Npc3RlbWEgcmVzdGF1cmF0IGNvcnJlY3RhbWVudCcgOiAnU2lzdGVtYSByZXN0YXVyYWRvIGNvcnJlY3RhbWVudGUnLFxuICAgICAgICAgICdiYWNrdXAucmVzdG9yZV9lcnJvcic6IGxhbmcgPT09ICdjYScgPyAnRXJyb3IgYWwgcmVzdGF1cmFyIGVsIHNpc3RlbWEnIDogJ0Vycm9yIGFsIHJlc3RhdXJhciBlbCBzaXN0ZW1hJyxcbiAgICAgICAgICAnYmFja3VwLmRlbGV0ZVN1Y2Nlc3MnOiBsYW5nID09PSAnY2EnID8gJ0PDsnBpYSBkZSBzZWd1cmV0YXQgZWxpbWluYWRhIGNvcnJlY3RhbWVudCcgOiAnQ29waWEgZGUgc2VndXJpZGFkIGVsaW1pbmFkYSBjb3JyZWN0YW1lbnRlJyxcbiAgICAgICAgICAnYmFja3VwLmRlbGV0ZUluUHJvZ3Jlc3MnOiBsYW5nID09PSAnY2EnID8gJ0VsaW1pbmFudC4uLicgOiAnRWxpbWluYW5kby4uLicsXG4gICAgICAgICAgJ2JhY2t1cC5yZXN0b3JlSW5Qcm9ncmVzcyc6IGxhbmcgPT09ICdjYScgPyAnUmVzdGF1cmFudCBzaXN0ZW1hLi4uJyA6ICdSZXN0YXVyYW5kbyBzaXN0ZW1hLi4uJyxcbiAgICAgICAgICAnYmFja3VwLmJhY2t1cEluUHJvZ3Jlc3MnOiBsYW5nID09PSAnY2EnID8gJ0NyZWFudCBjw7JwaWEgZGUgc2VndXJldGF0Li4uJyA6ICdDcmVhbmRvIGNvcGlhIGRlIHNlZ3VyaWRhZC4uLicsXG4gICAgICAgICAgJ2JhY2t1cC5lcnJvcic6IGxhbmcgPT09ICdjYScgPyAnRXJyb3InIDogJ0Vycm9yJ1xuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgLy8gUmV0b3JuYXIgdHJhZHVjY2nDs24gaGFyZGNvZGVhZGEgbyBsYSBrZXkgY29tbyDDumx0aW1vIHJlY3Vyc29cbiAgICAgICAgcmV0dXJuIGhhcmRjb2RlZFRyYW5zbGF0aW9uc1trZXldIHx8IGtleTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgcmV0dXJuIHRyYW5zbGF0aW9uO1xuICAgIH07XG4gICAgXG4gICAgLy8gVmFyaWFibGVzIGdsb2JhbGVzXG4gICAgbGV0IHNlbGVjdGVkQmFja3VwID0gbnVsbDtcbiAgICBsZXQgYmFja3Vwc0xpc3QgPSBbXTtcbiAgICBcbiAgICAvLyBFbGVtZW50b3MgRE9NXG4gICAgY29uc3QgYWxlcnRDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWxlcnQtY29udGFpbmVyJyk7XG4gICAgY29uc3QgYWxlcnRFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FsZXJ0Jyk7XG4gICAgY29uc3QgYWxlcnRNZXNzYWdlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FsZXJ0LW1lc3NhZ2UnKTtcbiAgICBsZXQgY3JlYXRlQmFja3VwQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NyZWF0ZS1iYWNrdXAtYnRuJyk7XG4gICAgbGV0IHJlc3RvcmVCYWNrdXBCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzdG9yZS1iYWNrdXAtYnRuJyk7XG4gICAgbGV0IHNlbGVjdEJhY2t1cEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxlY3QtYmFja3VwLWJ0bicpO1xuICAgIGxldCBjaGFuZ2VCYWNrdXBCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhbmdlLWJhY2t1cC1idG4nKTtcbiAgICBjb25zdCBzZWxlY3RlZEJhY2t1cENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxlY3RlZC1iYWNrdXAtY29udGFpbmVyJyk7XG4gICAgY29uc3Qgbm9TZWxlY3RlZEJhY2t1cENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduby1zZWxlY3RlZC1iYWNrdXAtY29udGFpbmVyJyk7XG4gICAgY29uc3Qgc2VsZWN0ZWRCYWNrdXBOYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVjdGVkLWJhY2t1cC1uYW1lJyk7XG4gICAgY29uc3QgYmFja3Vwc1RhYmxlQm9keSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiYWNrdXBzLXRhYmxlLWJvZHknKTtcbiAgICBjb25zdCBpbmNsdWRlQW5pbWFscyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbmNsdWRlLWFuaW1hbHMnKTtcbiAgICBjb25zdCBpbmNsdWRlQmlydGhzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luY2x1ZGUtYmlydGhzJyk7XG4gICAgY29uc3QgaW5jbHVkZUNvbmZpZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbmNsdWRlLWNvbmZpZycpO1xuICAgIFxuICAgIC8vIEZ1bmNpb25lcyBhdXhpbGlhcmVzXG4gICAgZnVuY3Rpb24gc2hvd0FsZXJ0KG1lc3NhZ2UsIHR5cGUgPSAnc3VjY2VzcycpIHtcbiAgICAgIGFsZXJ0Q29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgICAgYWxlcnRNZXNzYWdlLmlubmVyVGV4dCA9IG1lc3NhZ2U7XG4gICAgICBcbiAgICAgIGFsZXJ0RWxlbWVudC5jbGFzc05hbWUgPSAncC00IHJvdW5kZWQtbWQgdGV4dC1jZW50ZXInO1xuICAgICAgXG4gICAgICBpZiAodHlwZSA9PT0gJ3N1Y2Nlc3MnKSB7XG4gICAgICAgIGFsZXJ0RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdiZy1ncmVlbi0xMDAnLCAndGV4dC1ncmVlbi04MDAnLCAnZGFyazpiZy1ncmVlbi05MDAnLCAnZGFyazp0ZXh0LWdyZWVuLTIwMCcpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAnZXJyb3InKSB7XG4gICAgICAgIGFsZXJ0RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdiZy1yZWQtMTAwJywgJ3RleHQtcmVkLTgwMCcsICdkYXJrOmJnLXJlZC05MDAnLCAnZGFyazp0ZXh0LXJlZC0yMDAnKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ3dhcm5pbmcnKSB7XG4gICAgICAgIGFsZXJ0RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdiZy15ZWxsb3ctMTAwJywgJ3RleHQteWVsbG93LTgwMCcsICdkYXJrOmJnLXllbGxvdy05MDAnLCAnZGFyazp0ZXh0LXllbGxvdy0yMDAnKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ2luZm8nKSB7XG4gICAgICAgIGFsZXJ0RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdiZy1ibHVlLTEwMCcsICd0ZXh0LWJsdWUtODAwJywgJ2Rhcms6YmctYmx1ZS05MDAnLCAnZGFyazp0ZXh0LWJsdWUtMjAwJyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIEF1dG8tb2N1bHRhciBkZXNwdcOpcyBkZSA1IHNlZ3VuZG9zXG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgYWxlcnRDb250YWluZXIuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICB9LCA1MDAwKTtcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gc2V0TG9hZGluZyhidXR0b24sIGlzTG9hZGluZywgdGV4dCkge1xuICAgICAgaWYgKGlzTG9hZGluZykge1xuICAgICAgICBidXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICBidXR0b24ub3JpZ2luYWxUZXh0ID0gYnV0dG9uLmlubmVyVGV4dDtcbiAgICAgICAgYnV0dG9uLmlubmVyVGV4dCA9IHRleHQgfHwgdCgnYmFja3VwLmxvYWRpbmcnLCBjdXJyZW50TGFuZyk7XG4gICAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdvcGFjaXR5LTcwJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBidXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgYnV0dG9uLmlubmVyVGV4dCA9IGJ1dHRvbi5vcmlnaW5hbFRleHQgfHwgYnV0dG9uLmlubmVyVGV4dDtcbiAgICAgICAgYnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ29wYWNpdHktNzAnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gdXBkYXRlU2VsZWN0ZWRCYWNrdXAoYmFja3VwKSB7XG4gICAgICBzZWxlY3RlZEJhY2t1cCA9IGJhY2t1cDtcbiAgICAgIFxuICAgICAgaWYgKGJhY2t1cCkge1xuICAgICAgICBzZWxlY3RlZEJhY2t1cE5hbWUuaW5uZXJUZXh0ID0gYmFja3VwLmZpbGVuYW1lO1xuICAgICAgICBzZWxlY3RlZEJhY2t1cENvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgbm9TZWxlY3RlZEJhY2t1cENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmVzdG9yZUJhY2t1cEJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdvcGFjaXR5LTUwJywgJ2N1cnNvci1ub3QtYWxsb3dlZCcpO1xuICAgICAgICByZXN0b3JlQmFja3VwQnRuLmRpc2FibGVkID0gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxlY3RlZEJhY2t1cENvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgbm9TZWxlY3RlZEJhY2t1cENvbnRhaW5lci5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICAgICAgcmVzdG9yZUJhY2t1cEJ0bi5jbGFzc0xpc3QuYWRkKCdvcGFjaXR5LTUwJywgJ2N1cnNvci1ub3QtYWxsb3dlZCcpO1xuICAgICAgICByZXN0b3JlQmFja3VwQnRuLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gZ2V0QmFja3VwVHlwZUxhYmVsKGJhY2t1cCkge1xuICAgICAgLy8gU2kgdGVuZW1vcyBpbmZvcm1hY2nDs24gZGUgdGlwbyBkZSBiYWNrdXAsIHVzYXJsYVxuICAgICAgaWYgKGJhY2t1cC5iYWNrdXBfdHlwZSkge1xuICAgICAgICBzd2l0Y2ggKGJhY2t1cC5iYWNrdXBfdHlwZSkge1xuICAgICAgICAgIGNhc2UgJ2RhaWx5JzpcbiAgICAgICAgICAgIHJldHVybiAnQmFja3VwIGRpYXJpbyBwcm9ncmFtYWRvJztcbiAgICAgICAgICBjYXNlICdhbmltYWxfY3JlYXRlZCc6XG4gICAgICAgICAgICByZXR1cm4gJ0JhY2t1cCB0cmFzIGNyZWFyIGFuaW1hbCc7XG4gICAgICAgICAgY2FzZSAnYW5pbWFsX3VwZGF0ZWQnOlxuICAgICAgICAgICAgcmV0dXJuICdCYWNrdXAgdHJhcyBtb2RpZmljYXIgYW5pbWFsJztcbiAgICAgICAgICBjYXNlICdpbXBvcnQnOlxuICAgICAgICAgICAgcmV0dXJuICdCYWNrdXAgdHJhcyBpbXBvcnRhY2nDs24nO1xuICAgICAgICAgIGNhc2UgJ21hbnVhbCc6XG4gICAgICAgICAgICByZXR1cm4gdCgnYmFja3VwLm1hbnVhbEJhY2t1cCcsIGN1cnJlbnRMYW5nKTtcbiAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuIGJhY2t1cC5iYWNrdXBfdHlwZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBDb21wYXRpYmlsaWRhZCBjb24gdmVyc2lvbmVzIGFudGVyaW9yZXNcbiAgICAgIGlmIChiYWNrdXAuZmlsZW5hbWUuaW5jbHVkZXMoJ2RpYXJpby1hdXRvJykpIHtcbiAgICAgICAgcmV0dXJuIHQoJ2JhY2t1cC5hdXRvQmFja3VwJywgY3VycmVudExhbmcpO1xuICAgICAgfSBlbHNlIGlmIChiYWNrdXAuZmlsZW5hbWUuaW5jbHVkZXMoJ2NhbWJpby1zaXN0ZW1hJykpIHtcbiAgICAgICAgcmV0dXJuIHQoJ2JhY2t1cC5zeXN0ZW1CYWNrdXAnLCBjdXJyZW50TGFuZyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdCgnYmFja3VwLm1hbnVhbEJhY2t1cCcsIGN1cnJlbnRMYW5nKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gZ2V0QmFja3VwVHlwZUNvbG9yKGJhY2t1cFR5cGUpIHtcbiAgICAgIC8vIEFzaWduYXIgY29sb3JlcyBzZWfDum4gZWwgdGlwbyBkZSBiYWNrdXAgcGFyYSBtZWpvcmFyIGxhIHZpc3VhbGl6YWNpw7NuXG4gICAgICBzd2l0Y2ggKGJhY2t1cFR5cGUpIHtcbiAgICAgICAgY2FzZSAnYW5pbWFsX2NyZWF0ZWQnOlxuICAgICAgICAgIHJldHVybiAnYmctYmx1ZS0xMDAgZGFyazpiZy1ibHVlLTkwMCB0ZXh0LWJsdWUtODAwIGRhcms6dGV4dC1ibHVlLTIwMCc7XG4gICAgICAgIGNhc2UgJ2FuaW1hbF91cGRhdGVkJzpcbiAgICAgICAgICByZXR1cm4gJ2JnLWluZGlnby0xMDAgZGFyazpiZy1pbmRpZ28tOTAwIHRleHQtaW5kaWdvLTgwMCBkYXJrOnRleHQtaW5kaWdvLTIwMCc7XG4gICAgICAgIGNhc2UgJ2RhaWx5JzpcbiAgICAgICAgICByZXR1cm4gJ2JnLWdyZWVuLTEwMCBkYXJrOmJnLWdyZWVuLTkwMCB0ZXh0LWdyZWVuLTgwMCBkYXJrOnRleHQtZ3JlZW4tMjAwJztcbiAgICAgICAgY2FzZSAnaW1wb3J0JzpcbiAgICAgICAgICByZXR1cm4gJ2JnLXB1cnBsZS0xMDAgZGFyazpiZy1wdXJwbGUtOTAwIHRleHQtcHVycGxlLTgwMCBkYXJrOnRleHQtcHVycGxlLTIwMCc7XG4gICAgICAgIGNhc2UgJ21hbnVhbCc6XG4gICAgICAgICAgcmV0dXJuICdiZy1hbWJlci0xMDAgZGFyazpiZy1hbWJlci05MDAgdGV4dC1hbWJlci04MDAgZGFyazp0ZXh0LWFtYmVyLTIwMCc7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgcmV0dXJuICdiZy1ncmF5LTEwMCBkYXJrOmJnLWdyYXktOTAwIHRleHQtZ3JheS04MDAgZGFyazp0ZXh0LWdyYXktMjAwJztcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gQ2FyZ2FyIGxhIGxpc3RhIGRlIGJhY2t1cHNcbiAgICBhc3luYyBmdW5jdGlvbiBsb2FkQmFja3Vwc0xpc3QoKSB7XG4gICAgICB0cnkge1xuICAgICAgICBiYWNrdXBzTGlzdCA9IGF3YWl0IGdldEJhY2t1cHNMaXN0KCk7XG4gICAgICAgIFxuICAgICAgICAvLyBEZWJ1ZzogSW1wcmltaXIgbG9zIGRhdG9zIHJlY2liaWRvcyBlbiBsYSBjb25zb2xhXG4gICAgICAgIGNvbnNvbGUubG9nKCdEYXRvcyBkZSBiYWNrdXBzIHJlY2liaWRvczonLCBiYWNrdXBzTGlzdCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdOw7ptZXJvIGRlIGJhY2t1cHM6JywgYmFja3Vwc0xpc3QubGVuZ3RoKTtcbiAgICAgICAgXG4gICAgICAgIC8vIERlYnVnOiBNb3N0cmFyIHVuIG1lbnNhamUgZW4gbGEgcMOhZ2luYSBwYXJhIHZlcmlmaWNhciBxdWUgbGEgZnVuY2nDs24gc2UgZXN0w6EgZWplY3V0YW5kb1xuICAgICAgICBjb25zdCBkZWJ1Z01zZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBkZWJ1Z01zZy5pZCA9ICdkZWJ1Zy1tZXNzYWdlJztcbiAgICAgICAgZGVidWdNc2cuc3R5bGUucGFkZGluZyA9ICcxMHB4JztcbiAgICAgICAgZGVidWdNc2cuc3R5bGUubWFyZ2luID0gJzEwcHggMCc7XG4gICAgICAgIGRlYnVnTXNnLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjZjBmMGYwJztcbiAgICAgICAgZGVidWdNc2cuc3R5bGUuYm9yZGVyID0gJzFweCBzb2xpZCAjY2NjJztcbiAgICAgICAgZGVidWdNc2cuc3R5bGUuYm9yZGVyUmFkaXVzID0gJzRweCc7XG4gICAgICAgIGRlYnVnTXNnLmlubmVySFRNTCA9IGBEYXRvcyByZWNpYmlkb3M6ICR7YmFja3Vwc0xpc3QubGVuZ3RofSBjb3BpYXMgZGUgc2VndXJpZGFkPGJyPsOabHRpbW8gbG9nOiAke25ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKCl9YDtcbiAgICAgICAgXG4gICAgICAgIC8vIEluc2VydGFyIGVsIG1lbnNhamUgZGUgZGVidWcgYW50ZXMgZGUgbGEgdGFibGFcbiAgICAgICAgY29uc3QgYmFja3Vwc1RhYmxlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2JhY2t1cHMtdGFibGUnKTtcbiAgICAgICAgaWYgKGJhY2t1cHNUYWJsZSAmJiAhZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlYnVnLW1lc3NhZ2UnKSkge1xuICAgICAgICAgIGJhY2t1cHNUYWJsZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShkZWJ1Z01zZywgYmFja3Vwc1RhYmxlKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gQWN0dWFsaXphciBsYSB0YWJsYSBkZSBiYWNrdXBzXG4gICAgICAgIGlmIChiYWNrdXBzTGlzdC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICBiYWNrdXBzVGFibGVCb2R5LmlubmVySFRNTCA9IGBcbiAgICAgICAgICAgIDx0ciBjbGFzcz1cInRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgIDx0ZCBjb2xzcGFuPVwiNVwiIGNsYXNzPVwicHgtNiBweS00IHRleHQtc20gdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS0zMDBcIj4ke3QoJ2JhY2t1cC5ub19iYWNrdXBzJywgY3VycmVudExhbmcpfTwvdGQ+XG4gICAgICAgICAgICA8L3RyPlxuICAgICAgICAgIGA7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBiYWNrdXBzVGFibGVCb2R5LmlubmVySFRNTCA9IGJhY2t1cHNMaXN0Lm1hcChiYWNrdXAgPT4gYFxuICAgICAgICAgIDx0ciBjbGFzcz1cImhvdmVyOmJnLWdyYXktNTAgZGFyazpob3ZlcjpiZy1ncmF5LTcwMFwiIGRhdGEtZmlsZW5hbWU9XCIke2JhY2t1cC5maWxlbmFtZX1cIj5cbiAgICAgICAgICAgIDx0ZCBjbGFzcz1cInB4LTYgcHktNCB3aGl0ZXNwYWNlLW5vd3JhcCB0ZXh0LXNtIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktMzAwXCI+JHtiYWNrdXAuZGF0ZX08L3RkPlxuICAgICAgICAgICAgPHRkIGNsYXNzPVwicHgtNiBweS00IHdoaXRlc3BhY2Utbm93cmFwIHRleHQtc20gdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS0zMDBcIj4ke2JhY2t1cC5zaXplfTwvdGQ+XG4gICAgICAgICAgICA8dGQgY2xhc3M9XCJweC02IHB5LTQgd2hpdGVzcGFjZS1ub3dyYXAgdGV4dC1zbSB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTMwMFwiPiR7YmFja3VwLmNyZWF0ZWRfYnl9PC90ZD5cbiAgICAgICAgICAgIDx0ZCBjbGFzcz1cInB4LTYgcHktNCB3aGl0ZXNwYWNlLW5vd3JhcCB0ZXh0LXNtIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktMzAwXCI+XG4gICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwicHgtMiBpbmxpbmUtZmxleCB0ZXh0LXhzIGxlYWRpbmctNSBmb250LXNlbWlib2xkIHJvdW5kZWQtZnVsbCAke2dldEJhY2t1cFR5cGVDb2xvcihiYWNrdXAuYmFja3VwX3R5cGUpfVwiPlxuICAgICAgICAgICAgICAgICR7YmFja3VwLmJhY2t1cF90eXBlIHx8ICdtYW51YWwnfVxuICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgPHRkIGNsYXNzPVwicHgtNiBweS00IHdoaXRlc3BhY2Utbm93cmFwIHRleHQtc20gdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS0zMDAgbWF4LXcteHMgdHJ1bmNhdGVcIj5cbiAgICAgICAgICAgICAgJHtiYWNrdXAuZGVzY3JpcHRpb24gfHwgJyd9XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgPHRkIGNsYXNzPVwicHgtNiBweS00IHdoaXRlc3BhY2Utbm93cmFwIHRleHQtc20gZm9udC1tZWRpdW1cIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZsZXggc3BhY2UteC0yXCI+XG4gICAgICAgICAgICAgICAgPGEgaHJlZj1cIiR7Z2V0QmFja3VwRG93bmxvYWRVcmwoYmFja3VwLmZpbGVuYW1lKX1cIiBjbGFzcz1cInRleHQtYmx1ZS02MDAgaG92ZXI6dGV4dC1ibHVlLTkwMCBkYXJrOnRleHQtYmx1ZS00MDAgZGFyazpob3Zlcjp0ZXh0LWJsdWUtMjAwXCIgZG93bmxvYWQ+JHt0KCdiYWNrdXAuZG93bmxvYWQnLCBjdXJyZW50TGFuZyl9PC9hPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJyZXN0b3JlLWJ0biB0ZXh0LWdyZWVuLTYwMCBob3Zlcjp0ZXh0LWdyZWVuLTkwMCBkYXJrOnRleHQtZ3JlZW4tNDAwIGRhcms6aG92ZXI6dGV4dC1ncmVlbi0yMDBcIj5cbiAgICAgICAgICAgICAgICAgICR7dCgnYmFja3VwLnJlc3RvcmUnLCBjdXJyZW50TGFuZyl9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImRlbGV0ZS1idG4gdGV4dC1yZWQtNjAwIGhvdmVyOnRleHQtcmVkLTkwMCBkYXJrOnRleHQtcmVkLTQwMCBkYXJrOmhvdmVyOnRleHQtcmVkLTIwMFwiPlxuICAgICAgICAgICAgICAgICAgJHt0KCdiYWNrdXAuZGVsZXRlJywgY3VycmVudExhbmcpfVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgPC90cj5cbiAgICAgICAgYCkuam9pbignJyk7XG4gICAgICAgIFxuICAgICAgICAvLyBBZ3JlZ2FyIGV2ZW50IGxpc3RlbmVycyBhIGxvcyBib3RvbmVzIGRlIGxhIHRhYmxhXG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yZXN0b3JlLWJ0bicpLmZvckVhY2goYnRuID0+IHtcbiAgICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVSZXN0b3JlRnJvbVRhYmxlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZGVsZXRlLWJ0bicpLmZvckVhY2goYnRuID0+IHtcbiAgICAgICAgICBidG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVEZWxldGVGcm9tVGFibGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBjYXJnYXIgbGEgbGlzdGEgZGUgYmFja3VwczonLCBlcnJvcik7XG4gICAgICAgIC8vIE1vc3RyYXIgbWVuc2FqZSBkZSBlcnJvclxuICAgICAgICBzaG93QWxlcnQoYCR7dCgnYmFja3VwLmVycm9yJyl9OiAke2Vycm9yLm1lc3NhZ2V9YCwgJ2Vycm9yJyk7XG4gICAgICAgIFxuICAgICAgICAvLyBBc2VndXJhcnNlIGRlIHF1ZSBsYSB0YWJsYSBtdWVzdHJhIHVuIG1lbnNhamUgYW1pZ2FibGUgZW4gY2FzbyBkZSBlcnJvclxuICAgICAgICBiYWNrdXBzVGFibGVCb2R5LmlubmVySFRNTCA9IGBcbiAgICAgICAgICA8dHIgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgPHRkIGNvbHNwYW49XCI1XCIgY2xhc3M9XCJweC02IHB5LTQgdGV4dC1zbSB0ZXh0LXJlZC01MDAgZGFyazp0ZXh0LXJlZC0zMDBcIj4ke3QoJ2JhY2t1cC5lcnJvcicsIGN1cnJlbnRMYW5nKX06ICR7ZXJyb3IubWVzc2FnZX08L3RkPlxuICAgICAgICAgIDwvdHI+XG4gICAgICAgIGA7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIE1hbmVqYWRvcmVzIGRlIGV2ZW50b3NcbiAgICBmdW5jdGlvbiBpbml0RXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgICAvLyBCb3TDs24gZGUgY3JlYXIgYmFja3VwXG4gICAgICBjcmVhdGVCYWNrdXBCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVDcmVhdGVCYWNrdXApO1xuICAgIH1cbiAgICBcbiAgICAvLyBGdW5jacOzbiBwYXJhIG1hbmVqYXIgbGEgY3JlYWNpw7NuIGRlIGJhY2t1cHNcbiAgICBhc3luYyBmdW5jdGlvbiBoYW5kbGVDcmVhdGVCYWNrdXAoKSB7XG4gICAgICBjb25zb2xlLmxvZygnQm90w7NuIGRlIGJhY2t1cCBjbGlja2VhZG8nKTtcbiAgICAgIFxuICAgICAgLy8gT2J0ZW5lciBvcGNpb25lcyBkZSBiYWNrdXBcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgIGluY2x1ZGVfYW5pbWFsczogaW5jbHVkZUFuaW1hbHMuY2hlY2tlZCxcbiAgICAgICAgaW5jbHVkZV9iaXJ0aHM6IGluY2x1ZGVCaXJ0aHMuY2hlY2tlZCxcbiAgICAgICAgaW5jbHVkZV9jb25maWc6IGluY2x1ZGVDb25maWcuY2hlY2tlZCxcbiAgICAgICAgY3JlYXRlZF9ieTogJ3VzdWFyaW8nXG4gICAgICB9O1xuICAgICAgXG4gICAgICAvLyBEZXNhY3RpdmFyIGVsIGJvdMOzbiBtaWVudHJhcyBzZSBjcmVhIGVsIGJhY2t1cFxuICAgICAgc2V0TG9hZGluZyhjcmVhdGVCYWNrdXBCdG4sIHRydWUsIHQoJ2JhY2t1cC5iYWNrdXBJblByb2dyZXNzJywgY3VycmVudExhbmcpKTtcbiAgICAgIFxuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVXNhciBlbCBzZXJ2aWNpbyBjZW50cmFsaXphZG8gZGUgYmFja3VwXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNyZWF0ZUJhY2t1cChvcHRpb25zKTtcbiAgICAgICAgY29uc29sZS5sb2coJ0JhY2t1cCBjcmVhZG8gY29ycmVjdGFtZW50ZTonLCByZXN1bHQpO1xuICAgICAgICBcbiAgICAgICAgLy8gTW9zdHJhciBtZW5zYWplIGRlIMOpeGl0b1xuICAgICAgICBzaG93QWxlcnQodCgnYmFja3VwLmJhY2t1cF9jcmVhdGVkJywgY3VycmVudExhbmcpLCAnc3VjY2VzcycpO1xuICAgICAgICBcbiAgICAgICAgLy8gUmVjYXJnYXIgbGEgbGlzdGEgZGUgYmFja3Vwc1xuICAgICAgICBhd2FpdCBsb2FkQmFja3Vwc0xpc3QoKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGFsIGNyZWFyIGJhY2t1cDonLCBlcnJvcik7XG4gICAgICAgIFxuICAgICAgICAvLyBTaSB2ZW1vcyB1biBlcnJvciBkZSBIVE1MIGVuIGxhIHJlc3B1ZXN0YSwgcHJvYmFibGVtZW50ZSBlbCBiYWNrdXAgc8OtIHNlIGNyZcOzXG4gICAgICAgIGlmIChlcnJvci5tZXNzYWdlICYmIGVycm9yLm1lc3NhZ2UuaW5jbHVkZXMoJzwhRE9DVFlQRScpKSB7XG4gICAgICAgICAgY29uc29sZS5sb2coJ0VsIGJhY2t1cCBwcm9iYWJsZW1lbnRlIHNlIGNyZcOzIGNvcnJlY3RhbWVudGUgYSBwZXNhciBkZWwgZXJyb3IgZGUgcGFyc2VvJyk7XG4gICAgICAgICAgc2hvd0FsZXJ0KHQoJ2JhY2t1cC5iYWNrdXBfY3JlYXRlZCcsIGN1cnJlbnRMYW5nKSwgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBSZWNhcmdhciBsYSBsaXN0YSBkZXNwdcOpcyBkZSB1biBicmV2ZSByZXRyYXNvXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiBsb2FkQmFja3Vwc0xpc3QoKSwgMTAwMCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gU29sbyBtb3N0cmFyIGVycm9yZXMgcXVlIG5vIHNlYW4gZGUgcGFyc2VyIEhUTUxcbiAgICAgICAgICBzaG93QWxlcnQoYCR7dCgnYmFja3VwLmJhY2t1cF9lcnJvcicsIGN1cnJlbnRMYW5nKX06ICR7ZXJyb3IubWVzc2FnZSB8fCAnRXJyb3IgZGVzY29ub2NpZG8nfWAsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICB9IGZpbmFsbHkge1xuICAgICAgICAvLyBTaWVtcHJlIHJlYWN0aXZhciBlbCBib3TDs25cbiAgICAgICAgc2V0TG9hZGluZyhjcmVhdGVCYWNrdXBCdG4sIGZhbHNlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlUmVzdG9yZUJhY2t1cCgpIHtcbiAgICAgIGlmICghc2VsZWN0ZWRCYWNrdXApIHJldHVybjtcbiAgICAgIFxuICAgICAgdHJ5IHtcbiAgICAgICAgc2V0TG9hZGluZyhyZXN0b3JlQmFja3VwQnRuLCB0cnVlLCB0KCdiYWNrdXAucmVzdG9yZUluUHJvZ3Jlc3MnLCBjdXJyZW50TGFuZykpO1xuICAgICAgICBcbiAgICAgICAgYXdhaXQgcmVzdG9yZUJhY2t1cChzZWxlY3RlZEJhY2t1cC5maWxlbmFtZSk7XG4gICAgICAgIHNob3dBbGVydCh0KCdiYWNrdXAucmVzdG9yZV9zdWNjZXNzJywgY3VycmVudExhbmcpLCAnc3VjY2VzcycpO1xuICAgICAgICBcbiAgICAgICAgLy8gUmVjYXJnYXIgbGEgbGlzdGEgZGUgYmFja3Vwc1xuICAgICAgICBhd2FpdCBsb2FkQmFja3Vwc0xpc3QoKTtcbiAgICAgICAgXG4gICAgICAgIC8vIExpbXBpYXIgc2VsZWNjacOzblxuICAgICAgICB1cGRhdGVTZWxlY3RlZEJhY2t1cChudWxsKTtcbiAgICAgICAgXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCByZXN0YXVyYXIgYmFja3VwOicsIGVycm9yKTtcbiAgICAgICAgc2hvd0FsZXJ0KGAke3QoJ2JhY2t1cC5lcnJvcicsIGN1cnJlbnRMYW5nKX06ICR7ZXJyb3IubWVzc2FnZX1gLCAnZXJyb3InKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldExvYWRpbmcocmVzdG9yZUJhY2t1cEJ0biwgZmFsc2UpO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgICBmdW5jdGlvbiBoYW5kbGVTZWxlY3RCYWNrdXAoKSB7XG4gICAgICAvLyBNb3N0cmFyIHVuYSBsaXN0YSBtb2RhbCBvIGRyb3Bkb3duIGNvbiBsb3MgYmFja3VwcyBkaXNwb25pYmxlc1xuICAgICAgLy8gUGFyYSBzaW1wbGljaWRhZCwgdXNhbW9zIGVsIHByaW1lciBiYWNrdXAgZGUgbGEgbGlzdGFcbiAgICAgIGlmIChiYWNrdXBzTGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgIHVwZGF0ZVNlbGVjdGVkQmFja3VwKGJhY2t1cHNMaXN0WzBdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNob3dBbGVydCh0KCdiYWNrdXAubm9fYmFja3VwcycsIGN1cnJlbnRMYW5nKSwgJ3dhcm5pbmcnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gaGFuZGxlQ2hhbmdlQmFja3VwKCkge1xuICAgICAgLy8gVm9sdmVyIGEgbW9zdHJhciBsYSBzZWxlY2Npw7NuXG4gICAgICB1cGRhdGVTZWxlY3RlZEJhY2t1cChudWxsKTtcbiAgICB9XG4gICAgXG4gICAgZnVuY3Rpb24gaGFuZGxlUmVzdG9yZUZyb21UYWJsZShldmVudCkge1xuICAgICAgY29uc3Qgcm93ID0gZXZlbnQudGFyZ2V0LmNsb3Nlc3QoJ3RyJyk7XG4gICAgICBjb25zdCBmaWxlbmFtZSA9IHJvdy5kYXRhc2V0LmZpbGVuYW1lO1xuICAgICAgY29uc3QgYmFja3VwID0gYmFja3Vwc0xpc3QuZmluZChiID0+IGIuZmlsZW5hbWUgPT09IGZpbGVuYW1lKTtcbiAgICAgIFxuICAgICAgaWYgKGJhY2t1cCkge1xuICAgICAgICB1cGRhdGVTZWxlY3RlZEJhY2t1cChiYWNrdXApO1xuICAgICAgICAvLyBEZXNwbGF6YXIgYSBsYSBzZWNjacOzbiBkZSByZXN0YXVyYWNpw7NuXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXN0b3JlLWJhY2t1cC1idG4nKS5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgYXN5bmMgZnVuY3Rpb24gaGFuZGxlRGVsZXRlRnJvbVRhYmxlKGV2ZW50KSB7XG4gICAgICBjb25zdCByb3cgPSBldmVudC50YXJnZXQuY2xvc2VzdCgndHInKTtcbiAgICAgIGNvbnN0IGZpbGVuYW1lID0gcm93LmRhdGFzZXQuZmlsZW5hbWU7XG4gICAgICBcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIERlc2FjdGl2YXIgYm90w7NuIG1pZW50cmFzIHNlIGVsaW1pbmFcbiAgICAgICAgZXZlbnQudGFyZ2V0LmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgZXZlbnQudGFyZ2V0LnRleHRDb250ZW50ID0gdCgnYmFja3VwLmRlbGV0ZUluUHJvZ3Jlc3MnLCBjdXJyZW50TGFuZyk7XG4gICAgICAgIFxuICAgICAgICBhd2FpdCBkZWxldGVCYWNrdXAoZmlsZW5hbWUpO1xuICAgICAgICBzaG93QWxlcnQodCgnYmFja3VwLmRlbGV0ZVN1Y2Nlc3MnLCBjdXJyZW50TGFuZyksICdzdWNjZXNzJyk7XG4gICAgICAgIFxuICAgICAgICAvLyBSZWNhcmdhciBsYSBsaXN0YSBkZSBiYWNrdXBzXG4gICAgICAgIGF3YWl0IGxvYWRCYWNrdXBzTGlzdCgpO1xuICAgICAgICBcbiAgICAgICAgLy8gU2kgZWwgYmFja3VwIGVsaW1pbmFkbyBlcmEgZWwgc2VsZWNjaW9uYWRvLCBsaW1waWFtb3MgbGEgc2VsZWNjacOzblxuICAgICAgICBpZiAoc2VsZWN0ZWRCYWNrdXAgJiYgc2VsZWN0ZWRCYWNrdXAuZmlsZW5hbWUgPT09IGZpbGVuYW1lKSB7XG4gICAgICAgICAgdXBkYXRlU2VsZWN0ZWRCYWNrdXAobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBlbGltaW5hciBiYWNrdXA6JywgZXJyb3IpO1xuICAgICAgICBzaG93QWxlcnQoYCR7dCgnYmFja3VwLmVycm9yJywgY3VycmVudExhbmcpfTogJHtlcnJvci5tZXNzYWdlfWAsICdlcnJvcicpO1xuICAgICAgICBldmVudC50YXJnZXQuZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgZXZlbnQudGFyZ2V0LnRleHRDb250ZW50ID0gdCgnYmFja3VwLmRlbGV0ZScsIGN1cnJlbnRMYW5nKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gRnVuY2nDs24gcGFyYSBpbmljaWFsaXphciBsYSBww6FnaW5hXG4gICAgZnVuY3Rpb24gaW5pdFBhZ2UoKSB7XG4gICAgICBjb25zb2xlLmxvZygnSW5pY2lhbGl6YW5kbyBww6FnaW5hIGRlIGJhY2t1cC4uLicpO1xuICAgICAgXG4gICAgICAvLyBWZXJpZmljYXIgcXVlIHRvZG9zIGxvcyBlbGVtZW50b3MgZXhpc3RlblxuICAgICAgaWYgKCFjcmVhdGVCYWNrdXBCdG4pIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignTm8gc2UgZW5jb250csOzIGVsIGJvdMOzbiBkZSBjcmVhciBiYWNrdXAnKTtcbiAgICAgICAgY3JlYXRlQmFja3VwQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NyZWF0ZS1iYWNrdXAtYnRuJyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmICghcmVzdG9yZUJhY2t1cEJ0bikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdObyBzZSBlbmNvbnRyw7MgZWwgYm90w7NuIGRlIHJlc3RhdXJhciBiYWNrdXAnKTtcbiAgICAgICAgcmVzdG9yZUJhY2t1cEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXN0b3JlLWJhY2t1cC1idG4nKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKCFzZWxlY3RCYWNrdXBCdG4pIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignTm8gc2UgZW5jb250csOzIGVsIGJvdMOzbiBkZSBzZWxlY2Npb25hciBiYWNrdXAnKTtcbiAgICAgICAgc2VsZWN0QmFja3VwQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVjdC1iYWNrdXAtYnRuJyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmICghY2hhbmdlQmFja3VwQnRuKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ05vIHNlIGVuY29udHLDsyBlbCBib3TDs24gZGUgY2FtYmlhciBiYWNrdXAnKTtcbiAgICAgICAgY2hhbmdlQmFja3VwQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYW5nZS1iYWNrdXAtYnRuJyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIC8vIENhcmdhciBsYSBsaXN0YSBkZSBiYWNrdXBzXG4gICAgICBsb2FkQmFja3Vwc0xpc3QoKTtcbiAgICAgIFxuICAgICAgLy8gQWdyZWdhciBldmVudCBsaXN0ZW5lcnMgc2kgbG9zIGVsZW1lbnRvcyBleGlzdGVuXG4gICAgICBpZiAoY3JlYXRlQmFja3VwQnRuKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdBw7FhZGllbmRvIGV2ZW50IGxpc3RlbmVyIGFsIGJvdMOzbiBkZSBjcmVhciBiYWNrdXAnKTtcbiAgICAgICAgY3JlYXRlQmFja3VwQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ3JlYXRlQmFja3VwKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKHJlc3RvcmVCYWNrdXBCdG4pIHtcbiAgICAgICAgcmVzdG9yZUJhY2t1cEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZVJlc3RvcmVCYWNrdXApO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoc2VsZWN0QmFja3VwQnRuKSB7XG4gICAgICAgIHNlbGVjdEJhY2t1cEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZVNlbGVjdEJhY2t1cCk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGlmIChjaGFuZ2VCYWNrdXBCdG4pIHtcbiAgICAgICAgY2hhbmdlQmFja3VwQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ2hhbmdlQmFja3VwKTtcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgLy8gSW50ZW50YXIgaW5pY2lhbGl6YXIgbGEgcMOhZ2luYSBkZSB2YXJpYXMgZm9ybWFzIHBhcmEgYXNlZ3VyYXIgcXVlIGZ1bmNpb25hXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGluaXRQYWdlKTtcbiAgICBcbiAgICAvLyBUYW1iacOpbiBpbnRlbnRhciBpbmljaWFsaXphciBkZXNwdcOpcyBkZSB1biBwZXF1ZcOxbyByZXRyYXNvXG4gICAgc2V0VGltZW91dChpbml0UGFnZSwgMTAwMCk7XG4gICAgXG4gICAgLy8gWSB0YW1iacOpbiBpbnRlbnRhciBpbmljaWFsaXphciBhaG9yYSBtaXNtb1xuICAgIHRyeSB7XG4gICAgICBpbml0UGFnZSgpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCBpbmljaWFsaXphciBsYSBww6FnaW5hOicsIGVycm9yKTtcbiAgICB9XG4gICAgXG4gICAgLy8gTGEgaW5pY2lhbGl6YWNpw7NuIGRlIHBlcm1pc29zIGFob3JhIHNlIG1hbmVqYSBhIHRyYXbDqXMgZGVsIGNvbXBvbmVudGUgUGVybWlzc2lvbnNNYW5hZ2VyXG4gIDwvc2NyaXB0PlxuICBcbiAgPCEtLSBTY3JpcHQgZXNwZWPDrWZpY28gcGFyYSBibG9xdWVhciBlbCBib3TDs24gZGUgc2VsZWNjacOzbiBkZSBiYWNrdXAgcGFyYSBlbCByb2wgUmFtb24gLS0+XG4gIDxzY3JpcHQgaXM6aW5saW5lPlxuICAgIC8vIEVqZWN1dGFyIGlubWVkaWF0YW1lbnRlIGN1YW5kbyBjYXJnYSBsYSBww6FnaW5hXG4gICAgKGZ1bmN0aW9uKCkge1xuICAgICAgLy8gVmVyaWZpY2FyIHNpIGVsIHVzdWFyaW8gZXMgUmFtb25cbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHRva2VuID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3Rva2VuJyk7XG4gICAgICAgIGlmICghdG9rZW4pIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIGNvbnN0IHBheWxvYWQgPSBKU09OLnBhcnNlKGF0b2IodG9rZW4uc3BsaXQoJy4nKVsxXSkpO1xuICAgICAgICBjb25zdCB1c2VyUm9sZSA9IHBheWxvYWQucm9sZTtcbiAgICAgICAgXG4gICAgICAgIGlmICh1c2VyUm9sZSA9PT0gJ1JhbW9uJykge1xuICAgICAgICAgIGNvbnNvbGUubG9nKCfimqDvuI8gVXN1YXJpbyBSYW1vbiBkZXRlY3RhZG8gLSBBcGxpY2FuZG8gcmVzdHJpY2Npb25lcyBlc3BlY8OtZmljYXMuLi4nKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBGdW5jacOzbiBwYXJhIGJsb3F1ZWFyIGNvbXBsZXRhbWVudGUgZWwgYm90w7NuXG4gICAgICAgICAgZnVuY3Rpb24gYmxvcXVlYXJCb3RvblNlbGVjdEJhY2t1cCgpIHtcbiAgICAgICAgICAgIGNvbnN0IGJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxlY3QtYmFja3VwLWJ0bicpO1xuICAgICAgICAgICAgaWYgKCFidG4pIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0JvdMOzbiBubyBlbmNvbnRyYWRvLCByZWludGVudGFuZG8gZW4gNTAwbXMuLi4nKTtcbiAgICAgICAgICAgICAgc2V0VGltZW91dChibG9xdWVhckJvdG9uU2VsZWN0QmFja3VwLCA1MDApO1xuICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIEFwbGljYXIgbcO6bHRpcGxlcyBjYXBhcyBkZSBibG9xdWVvXG4gICAgICAgICAgICBidG4uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICAgICAgYnRuLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcbiAgICAgICAgICAgIGJ0bi5zdHlsZS5vcGFjaXR5ID0gJzAuNSc7XG4gICAgICAgICAgICBidG4uc3R5bGUucG9pbnRlckV2ZW50cyA9ICdub25lJztcbiAgICAgICAgICAgIGJ0bi5zdHlsZS5jdXJzb3IgPSAnbm90LWFsbG93ZWQnO1xuICAgICAgICAgICAgYnRuLnRpdGxlID0gJ05vIHRpZW5lcyBwZXJtaXNvcyBwYXJhIHJlc3RhdXJhciBjb3BpYXMgZGUgc2VndXJpZGFkJztcbiAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKCdvcGFjaXR5LTUwJywgJ2N1cnNvci1ub3QtYWxsb3dlZCcpO1xuICAgICAgICAgICAgYnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2hvdmVyOmJnLWdyYXktMzAwJywgJ2Rhcms6aG92ZXI6YmctZ3JheS02MDAnKTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQWdyZWdhciBpY29ubyBkZSBjYW5kYWRvXG4gICAgICAgICAgICBjb25zdCBsb2NrSWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgICAgIGxvY2tJY29uLmlubmVySFRNTCA9ICcg8J+Ukic7XG4gICAgICAgICAgICBsb2NrSWNvbi5jbGFzc05hbWUgPSAnbWwtMic7XG4gICAgICAgICAgICBidG4uYXBwZW5kQ2hpbGQobG9ja0ljb24pO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBTb2JyZXNjcmliaXIgaGFuZGxlcnNcbiAgICAgICAgICAgIGJ0bi5vbmNsaWNrID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdJbnRlbnRvIGRlIGFjY2VzbyBibG9xdWVhZG8nKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gVGFtYmnDqW4gYmxvcXVlYXIgZWwgYm90w7NuIGNoYW5nZS1iYWNrdXAtYnRuIHNpIGV4aXN0ZVxuICAgICAgICAgICAgY29uc3QgY2hhbmdlQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYW5nZS1iYWNrdXAtYnRuJyk7XG4gICAgICAgICAgICBpZiAoY2hhbmdlQnRuKSB7XG4gICAgICAgICAgICAgIGNoYW5nZUJ0bi5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgIGNoYW5nZUJ0bi5zdHlsZS5vcGFjaXR5ID0gJzAuNSc7XG4gICAgICAgICAgICAgIGNoYW5nZUJ0bi5zdHlsZS5wb2ludGVyRXZlbnRzID0gJ25vbmUnO1xuICAgICAgICAgICAgICBjaGFuZ2VCdG4uc3R5bGUuY3Vyc29yID0gJ25vdC1hbGxvd2VkJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29uc29sZS5sb2coJ+KchSBCb3TDs24gZGUgc2VsZWNjacOzbiBkZSBiYWNrdXAgYmxvcXVlYWRvIGV4aXRvc2FtZW50ZSBwYXJhIFJhbW9uJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIC8vIEVqZWN1dGFyIGxhIGZ1bmNpw7NuIGlubWVkaWF0YW1lbnRlXG4gICAgICAgICAgYmxvcXVlYXJCb3RvblNlbGVjdEJhY2t1cCgpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFkgdGFtYmnDqW4gZGVzcHXDqXMgZGUgdW4gcmV0cmFzbyBwYXJhIGFzZWd1cmFybm9zXG4gICAgICAgICAgc2V0VGltZW91dChibG9xdWVhckJvdG9uU2VsZWN0QmFja3VwLCA1MDApO1xuICAgICAgICAgIHNldFRpbWVvdXQoYmxvcXVlYXJCb3RvblNlbGVjdEJhY2t1cCwgMTAwMCk7XG4gICAgICAgICAgc2V0VGltZW91dChibG9xdWVhckJvdG9uU2VsZWN0QmFja3VwLCAyMDAwKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBFamVjdXRhciB1bmEgw7psdGltYSB2ZXogY3VhbmRvIGxhIHZlbnRhbmEgZXN0w6kgY29tcGxldGFtZW50ZSBjYXJnYWRhXG4gICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoYmxvcXVlYXJCb3RvblNlbGVjdEJhY2t1cCwgMTAwKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhbCB2ZXJpZmljYXIgcGVybWlzb3M6JywgZSk7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgPC9zY3JpcHQ+XG48L01haW5MYXlvdXQ+Il0sIm1hcHBpbmdzIjoiQUE2REksU0FBUyxpQkFBaUIsb0JBQW9CLE1BQU07QUFDbEQsTUFBSTtBQUVGLFdBQU8sc0JBQXNCLEVBQUUsS0FBSyxDQUFDLEVBQUUsR0FBRyxtQkFBbUIsTUFBTTtBQUNqRSxZQUFNLGFBQWEsbUJBQW1CO0FBQ3RDLGNBQVEsSUFBSSxnQ0FBZ0MsVUFBVTtBQUd0RCxZQUFNLGdCQUFnQixDQUFDLElBQUksUUFBUTtBQUNqQyxjQUFNLFVBQVUsU0FBUyxlQUFlLEVBQUU7QUFDMUMsWUFBSSxTQUFTO0FBQ1gsa0JBQVEsY0FBYyxFQUFFLEtBQUssVUFBVTtRQUN6QztNQUNGO0FBR0Esb0JBQWMsY0FBYyxjQUFjO0FBQzFDLG9CQUFjLGlCQUFpQixpQkFBaUI7QUFHaEQsZUFBUyxpQkFBaUIsaUJBQWlCLEVBQUUsUUFBUSxRQUFNO0FBQ3pELGNBQU0sTUFBTSxHQUFHLGFBQWEsZUFBZTtBQUMzQyxZQUFJLEtBQUs7QUFDUCxhQUFHLGNBQWMsRUFBRSxLQUFLLFVBQVU7UUFDcEM7TUFDRixDQUFDO0FBR0QsZUFBUyxRQUFRLEVBQUUsZ0JBQWdCLFVBQVUsSUFBSTtBQUdqRCxZQUFNLGVBQWUsU0FBUyxpQkFBaUIsSUFBSTtBQUNuRCxVQUFJLGdCQUFnQixhQUFhLFNBQVMsR0FBRztBQUUzQyxjQUFNLHFCQUFxQjtVQUN6QixTQUFTLGVBQWUsT0FBTyxTQUFTO1VBQ3hDLFVBQVEsZUFBZSxPQUFPLFNBQVM7VUFDdkMsV0FBVyxlQUFlLE9BQU8sV0FBVztVQUM1QyxRQUFRLGVBQWUsT0FBTyxVQUFVO1VBQ3hDLGVBQWEsZUFBZSxPQUFPLGVBQWU7VUFDbEQsWUFBWSxlQUFlLE9BQU8sWUFBWTtVQUM5QyxvQ0FBb0MsZUFBZSxPQUFPLHFDQUFtQztRQUMvRjtBQUdBLGNBQU0sYUFBYSxTQUFTLGNBQWMsd0NBQXdDO0FBQ2xGLFlBQUksY0FBYyxXQUFXLGFBQWE7QUFDeEMsZ0JBQU0sZUFBZSxXQUFXLFlBQVksS0FBSztBQUNqRCxjQUFJLG1CQUFtQixZQUFZLEdBQUc7QUFDcEMsdUJBQVcsY0FBYyxtQkFBbUIsWUFBWTtVQUMxRDtRQUNGO0FBR0EscUJBQWEsUUFBUSxRQUFNO0FBQ3pCLGdCQUFNLGVBQWUsR0FBRyxZQUFZLEtBQUs7QUFDekMsY0FBSSxtQkFBbUIsWUFBWSxHQUFHO0FBQ3BDLGVBQUcsY0FBYyxtQkFBbUIsWUFBWTtVQUNsRDtRQUNGLENBQUM7TUFDSDtJQUNGLENBQUM7RUFDSCxTQUFTLE9BQU87QUFDZCxZQUFRLE1BQU0sK0NBQTZDLEtBQU07RUFDbkU7QUFDRixDQUFDOyIsIm5hbWVzIjpbXX0=