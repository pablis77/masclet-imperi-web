FROM nginx:alpine

WORKDIR /usr/share/nginx/html

# Crear estructura de directorios para API
RUN mkdir -p api/v1/auth

# Crear respuestas de API simuladas
RUN echo '{"status":"success","message":"API simulada funcionando"}' > /usr/share/nginx/html/api/v1/index.html
RUN echo '{"status":"success","token":"test-token"}' > /usr/share/nginx/html/api/v1/auth/login

# Configurar nginx para simular API
RUN echo 'server { \
    listen 8000; \
    location /api/v1/ { \
        root /usr/share/nginx/html; \
        add_header Content-Type application/json; \
    } \
}' > /etc/nginx/conf.d/default.conf

EXPOSE 8000

CMD ["nginx", "-g", "daemon off;"]
