import{r as t,j as e}from"./vendor-react.BjakChMs.js";import{b3 as x}from"./vendor.CwhrWGr6.js";import"./vendor-charts.BepbI3ou.js";const j=()=>{const[r,c]=t.useState(null),[o,a]=t.useState(null),[l,d]=t.useState(!0);t.useEffect(()=>{try{const n=localStorage.getItem("token");if(n)try{const s=x(n);c(s)}catch(s){console.error("Error al decodificar token:",s)}const i=localStorage.getItem("user");if(i)try{const s=JSON.parse(i);a(s)}catch(s){console.error("Error al parsear usuario:",s)}}catch(n){console.error("Error general:",n)}},[]);const h=()=>{d(!l)};return!r&&!o?e.jsx("div",{className:"bg-gray-100 p-3 rounded-lg mb-4",children:"No hay información de sesión"}):e.jsxs("div",{className:"bg-gray-100 p-3 rounded-lg mb-4 text-xs",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("h3",{className:"font-bold",children:"Depurador de Login"}),e.jsx("button",{onClick:h,className:"text-blue-500 hover:text-blue-700",children:l?"Ocultar":"Mostrar"})]}),l&&e.jsxs("div",{children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("h4",{className:"font-semibold",children:"Token JWT:"}),e.jsx("pre",{className:"bg-white p-2 rounded overflow-auto max-h-32",children:JSON.stringify(r,null,2)}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Sub:"})," ",r?.sub]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Username:"})," ",r?.username]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Role:"})," ",r?.role]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Exp:"})," ",r?.exp?new Date(r.exp*1e3).toLocaleString():"N/A"]})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-semibold",children:"Usuario en localStorage:"}),e.jsx("pre",{className:"bg-white p-2 rounded overflow-auto max-h-32",children:JSON.stringify(o,null,2)}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Username:"})," ",o?.username]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Rol:"})," ",o?.role]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Email:"})," ",o?.email]})]})]})]})]})};export{j as default};
