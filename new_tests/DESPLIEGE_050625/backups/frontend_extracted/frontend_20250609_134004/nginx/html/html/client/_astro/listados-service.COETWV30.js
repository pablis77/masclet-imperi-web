import{a as s}from"./apiService.CS3_UAep.js";async function c(){try{return await s.get("listados/")}catch(e){return console.error("Error al obtener listados:",e),[]}}async function d(e){try{return await s.get(`listados/${e}`)}catch(a){return console.error(`Error al obtener listado ${e}:`,a),{}}}async function m(e){try{const a={nombre:e.name||"",descripcion:e.description||"",categoria:e.category||"",is_completed:e.is_completed||!1,animales:e.animals||[]};return await s.post("listados/",a)}catch(a){throw console.error("Error al crear listado:",a),a}}async function u(){try{console.log("Obteniendo animales desde el backend...");const e=[];let a=0;const o=1e3;let l=!0;for(;l;)try{const n=`animals/?offset=${a}&limit=${o}`;console.log(`Obteniendo lote de animales: ${n}`);const r=await s.get(n);let t=[];r&&typeof r=="object"&&(r.status==="success"&&r.data?Array.isArray(r.data)?t=r.data:r.data.items&&Array.isArray(r.data.items)&&(t=r.data.items):Array.isArray(r)&&(t=r)),console.log(`Obtenidos ${t.length} animales en esta página`),e.push(...t),t.length<o?(l=!1,console.log("No hay más animales para obtener")):(a+=o,console.log(`Avanzando a offset=${a}`))}catch(n){console.error("Error al obtener página de animales:",n),l=!1}return console.log(`Total de animales obtenidos: ${e.length}`),e}catch(e){return console.error("Error al obtener animales:",e),[]}}async function f(e,a){try{return await s.put(`listados/${e}/animales`,{animales:a})}catch(o){throw console.error(`Error al actualizar los animales del listado ${e}:`,o),o}}async function g(e){try{return await s.del(`listados/${e}`)}catch(a){throw console.error(`Error al eliminar el listado ${e}:`,a),a}}export{u as a,c as b,m as c,g as d,d as g,f as u};
