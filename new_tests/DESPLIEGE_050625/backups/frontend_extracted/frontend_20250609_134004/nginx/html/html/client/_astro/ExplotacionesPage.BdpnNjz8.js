import{b4 as X}from"./vendor.CwhrWGr6.js";import{r as x,j as e}from"./vendor-react.BjakChMs.js";import{a as _}from"./apiService.CS3_UAep.js";import"./config.DUTcyYPh.js";import"./vendor-charts.BepbI3ou.js";const ye=()=>{const[s,q]=x.useState("es");x.useEffect(()=>{const t=localStorage.getItem("userLanguage")||"es";q(t);const r=l=>{l.key==="userLanguage"&&q(l.newValue||"es")};return window.addEventListener("storage",r),()=>window.removeEventListener("storage",r)},[]);const[D,J]=x.useState([]),[Q,Z]=x.useState([]),[w,G]=x.useState(""),[K,A]=x.useState(!0),[M,$]=x.useState(null),[k,U]=x.useState(null),[f,ee]=x.useState([]),[b,Y]=x.useState([]),[C,H]=x.useState("todos"),[te,ae]=x.useState({toros:0,vacas:0,terneros:0}),[L,se]=x.useState(!1),[S,oe]=x.useState("explotacio"),[E,re]=x.useState("asc");x.useEffect(()=>{ne()},[]),x.useEffect(()=>{const t=()=>{const r=window.innerWidth<640;se(r)};return t(),window.addEventListener("resize",t),()=>window.removeEventListener("resize",t)},[]),x.useEffect(()=>{L&&(S!=="total"||E!=="desc")&&(oe("total"),re("desc"))},[L,S,E]);const le=t=>t?L?[...t].sort((r,l)=>{const u=r.total||0;return(l.total||0)-u}):[...t].sort((r,l)=>{if(S==="explotacio")return E==="asc"?r.explotacio.localeCompare(l.explotacio):l.explotacio.localeCompare(r.explotacio);if(S==="total"){const u=r.total||0,a=l.total||0;return E==="asc"?u-a:a-u}return r.explotacio.localeCompare(l.explotacio)}):[];x.useEffect(()=>{if(!D.length)return;let t=le(D);w.trim()!==""&&(t=t.filter(r=>r.explotacio.toLowerCase().includes(w.toLowerCase()))),Z(t)},[D,w,L,S,E]),x.useEffect(()=>{f.length>0&&F(C)},[C,f]);const ne=async()=>{try{console.log("######## INICIO CARGA DE DATOS DE EXPLOTACIONES (REACT) ########"),console.log(`Usando API URL: ${_.getBaseUrl()}`),A(!0),$(null),console.log("Realizando petición GET a animals/?page=1&limit=100");const t=await _.get("animals/?page=1&limit=100");if(console.log("Respuesta recibida de animals:",t),!t.data||!t.data.items||!Array.isArray(t.data.items))throw new Error("Formato de respuesta incorrecto");const r=t.data.items;console.log(`Obtenidos ${r.length} animales`);const l={};r.forEach(n=>{n.explotacio&&(l[n.explotacio]||(l[n.explotacio]={explotacio:n.explotacio,animales:[]}),l[n.explotacio].animales=[...l[n.explotacio].animales||[],n])});const u=Object.values(l).map(n=>{const i=n.animales||[],j=i.filter(m=>m.genere==="M").length,N=i.filter(m=>m.genere==="F").length,v=i.filter(m=>m.genere==="M"&&m.estado==="OK").length,c=i.filter(m=>m.genere==="F"&&m.estado==="OK").length,y=i.filter(m=>m.genere==="F"&&["1",1].includes(m.alletar)).length,d=i.filter(m=>m.genere==="F"&&["2",2].includes(m.alletar)).length,P=y+d,I=i.filter(m=>m.genere==="F"&&(["0",0].includes(m.alletar)||m.alletar===null)).length;let O=0;const V=y+d*2,W=v+c+V;return{explotacio:n.explotacio,total:i.length,total_animales_activos:W,toros:j,toros_activos:v,vacas:N,vacas_activas:c,amamantando:P,noAmamantando:I,terneros:V,partos:O}}),a=await Promise.all(u.map(async n=>{try{const i=`dashboard/explotacions/${encodeURIComponent(n.explotacio)}`;console.log(`Solicitando detalles de explotación: ${i}`);const j=await _.get(i);console.log(`Datos recibidos para explotación ${n.explotacio}:`,j);const N=`dashboard/explotacions/${encodeURIComponent(n.explotacio)}/stats`;console.log(`Solicitando estadísticas: ${N}`);const v=await _.get(N);console.log(`Estadísticas recibidas para ${n.explotacio}:`,v);let c={...n};j&&j.total_partos!==void 0&&(c={...c,partos:j.total_partos});const y=v.animales||{},d=v.partos||{};return c={...c,toros:y.toros||c.toros,toros_activos:y.toros_activos||c.toros_activos,vacas:y.vacas||c.vacas,vacas_activas:y.vacas_activas||c.vacas_activas,total_animales_activos:c.total_animales_activos,terneros:y.terneros||c.terneros,amamantando:y.vacas_amamantando||c.amamantando,noAmamantando:y.vacas_no_amamantando||c.noAmamantando,partos:d.total||c.partos},c}catch(i){return console.error(`Error al obtener información para ${n.explotacio}:`,i),console.error(`Error detallado: ${i.message}`),i.response&&console.error(`Status: ${i.response.status}, Data:`,i.response.data),n}}));a.sort((n,i)=>n.explotacio.localeCompare(i.explotacio)),J(a),A(!1)}catch(t){console.error("Error al cargar datos iniciales de explotaciones:",t),console.error("Detalle del error:",t.stack||"No hay stack disponible"),A(!1),$(t.message)}},ie=()=>{if(console.log(`Buscando: "${w}"`),!w.trim())return;const t=D.filter(r=>r.explotacio.toLowerCase().includes(w.toLowerCase()));t.length===0?alert("No se encontraron explotaciones que coincidan con tu búsqueda."):t.length===1&&z(t[0].explotacio)},ce=()=>{G("")},z=async t=>{if(t){U(t),A(!0),$(null);try{const r=`animals/?explotacio=${encodeURIComponent(t)}&limit=100`;console.log(`Solicitando animales de explotación (con límite 100): ${r}`);const l=await _.get(r);if(console.log(`Respuesta recibida para animales de ${t}:`,l),!l.data||!l.data.items||!Array.isArray(l.data.items))throw new Error("Formato de respuesta incorrecto");const u=l.data.items;console.log(`Encontrados ${u.length} animales para la explotación ${t}`);const a=u.filter(c=>c.genere==="M").length,n=u.filter(c=>c.genere==="F").length,i={toros:a,vacas:n,terneros:0};ee(u),Y(u),ae(i),H("todos");const j=document.getElementById("explotacion-detail"),N=document.getElementById("explotacionCards");j&&(j.style.display="block"),N&&(N.style.display="none");const v=document.getElementById("explotacion-code");v&&(v.textContent=t),A(!1)}catch(r){console.error("Error al cargar detalle de explotación:",r),A(!1),$(r.message)}}},de=()=>{const t=document.getElementById("explotacion-detail"),r=document.getElementById("explotacionCards");t&&(t.style.display="none"),r&&(r.style.display="grid"),U(null)},F=t=>{if(!f.length)return;let r=[];switch(t){case"todos":r=[...f];break;case"toros":r=f.filter(l=>l.genere==="M");break;case"vacas-amam":r=f.filter(l=>l.genere==="F"&&["1",1,"2",2].includes(l.alletar));break;case"vacas-no-amam":r=f.filter(l=>l.genere==="F"&&(["0",0].includes(l.alletar)||l.alletar===null));break;case"terneros":r=[];break;default:r=[...f]}Y(r),H(t)},me=()=>!b||b.length===0?e.jsx("div",{className:"flex justify-center items-center h-[200px]",children:e.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:s==="ca"?"No hi ha animals per mostrar en aquesta categoria":"No hay animales que mostrar en esta categoría"})}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm text-left border-collapse",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-100 dark:bg-gray-700 dark:text-gray-300",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-2",children:s==="ca"?"Codi":"Código"}),e.jsx("th",{className:"px-4 py-2",children:s==="ca"?"Nom":"Nombre"}),e.jsx("th",{className:"px-4 py-2",children:s==="ca"?"Gènere":"Género"}),e.jsx("th",{className:"px-4 py-2",children:s==="ca"?"Estat":"Estado"}),e.jsx("th",{className:"px-4 py-2",children:s==="ca"?"Data Naixement":"Fecha Nacimiento"}),e.jsx("th",{className:"px-4 py-2",children:s==="ca"?"Alletant":"Amamantando"}),e.jsx("th",{className:"px-4 py-2",children:s==="ca"?"Accions":"Acciones"})]})}),e.jsx("tbody",{children:b.map(t=>e.jsxs("tr",{className:"border-b dark:border-gray-700",children:[e.jsx("td",{className:"px-4 py-2",children:t.cod||"-"}),e.jsx("td",{className:"px-4 py-2 font-medium",children:t.nom}),e.jsx("td",{className:"px-4 py-2",children:t.genere==="M"?"Toro":"Vaca"}),e.jsx("td",{className:"px-4 py-2",children:e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${t.estado==="OK"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}`,children:t.estado==="OK"?s==="ca"?"Actiu":"Activo":s==="ca"?"Mort":"Fallecido"})}),e.jsx("td",{className:"px-4 py-2",children:t.dob||"No disponible"}),e.jsx("td",{className:"px-4 py-2",children:t.genere==="F"?t.alletar==="1"?s==="ca"?"1 vedell":"1 ternero":t.alletar==="2"?s==="ca"?"2 vedells":"2 terneros":s==="ca"?"Sense alletar":"No amamantando":"N/A"}),e.jsx("td",{className:"px-4 py-2",children:e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs("a",{href:`/animals/${t.id}`,className:"inline-flex items-center px-2 py-1 bg-primary text-white rounded hover:bg-primary/80",children:[e.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),s==="ca"?"Veure":"Ver"]}),e.jsxs("a",{href:`/animals/update/${t.id}`,className:"inline-flex items-center px-2 py-1 bg-blue-600 text-white rounded hover:bg-blue-700",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),s==="ca"?"Actualitzar":"Actualizar"]})]})})]},t.id))})]})}),xe=async()=>{if(!(!b||!b.length))try{const r=(await X(()=>import("./vendor.CwhrWGr6.js").then(o=>o.b8),[])).default,u=(await X(()=>import("./vendor.CwhrWGr6.js").then(o=>o.j),[])).default,a=new r,n=s==="ca"?`Llistat d'Animals - ${k}`:`Listado de Animales - ${k}`,i=[s==="ca"?"Codi":"Código",s==="ca"?"Nom":"Nombre",s==="ca"?"Gènere":"Género",s==="ca"?"Estat":"Estado",s==="ca"?"Data Naixement":"Fecha Nacimiento",s==="ca"?"Alletant":"Amamantando"],N=[...b].sort((o,h)=>{if(o.estado!==h.estado)return o.estado==="OK"?-1:1;if(o.genere!==h.genere)return o.genere==="M"?-1:1;if(o.genere==="F"){const g=o.alletar?Number(o.alletar):0,p=h.alletar?Number(h.alletar):0;if(g!==p)return p-g}return o.nom.localeCompare(h.nom)}).map(o=>{let h="N/A";o.cod&&o.cod!==""?h=o.cod:o.id&&(h=o.id.toString());let g="N/A";if(o.dob)try{let p;if(typeof o.dob=="string"&&o.dob.match(/^\d{1,2}\/\d{1,2}\/\d{4}$/))g=o.dob;else if(p=new Date(o.dob),isNaN(p.getTime()))g=typeof o.dob=="string"?o.dob:"N/A";else{const R=p.getDate().toString().padStart(2,"0"),T=(p.getMonth()+1).toString().padStart(2,"0"),pe=p.getFullYear();g=`${R}/${T}/${pe}`}}catch{g=typeof o.dob=="string"?o.dob:"N/A"}return[h,o.nom,o.genere==="M"?"Toro":"Vaca",o.estado==="OK"?s==="ca"?"Actiu":"Activo":s==="ca"?"Mort":"Fallecido",g,o.genere==="F"?["1",1].includes(o.alletar)?s==="ca"?"1 vedell":"1 ternero":["2",2].includes(o.alletar)?s==="ca"?"2 vedells":"2 terneros":"N/A":"N/A"]});a.setFontSize(10),a.setTextColor(100,100,100);const v=new Date().toLocaleDateString(s==="ca"?"ca-ES":"es-ES");a.text(s==="ca"?`Data: ${v}`:`Fecha: ${v}`,195,15,{align:"right"});let d=10+35+20;try{const o="/images/logo_masclet.png";let g=35;const p=a.internal.pageSize.getWidth(),R=p/2-45/2,T=10;a.addImage(o,"PNG",R,T,45,g),a.setFontSize(20),a.setTextColor(40,40,40),a.text(n,p/2,T+g+5,{align:"center"}),d=T+g+20}catch(o){console.error("Error al cargar el logo:",o),a.setDrawColor(0),a.setFillColor(126,211,33);const h=30,g=25,p=15;a.roundedRect(h-p/2,g-p/2,p,p,2,2,"F"),a.setDrawColor(255),a.setTextColor(255),a.setFontSize(14),a.setFont("helvetica","bold"),a.text("M",h-5,g+5,{align:"center"})}a.setFontSize(12),a.setTextColor(40,40,40);const P=b.length,I=b.filter(o=>o.estado==="OK").length,O=b.filter(o=>o.genere==="M"&&o.estado==="OK").length,V=b.filter(o=>o.genere==="F"&&o.estado==="OK").length,W=b.filter(o=>o.genere==="F"&&["1",1,"2",2].includes(o.alletar)).reduce((o,h)=>{const g=String(h.alletar);return o+(g==="1"?1:g==="2"?2:0)},0),m=b.filter(o=>o.genere==="F"&&["1",1,"2",2].includes(o.alletar)).length;a.setFillColor(245,245,245),a.roundedRect(30,d,150,13,2,2,"F"),a.setFont("helvetica","bold"),a.setTextColor(80,80,80),a.setFontSize(11),a.text(s==="ca"?"Total Animals":"Total Animales",65,d+5,{align:"center"}),a.text(s==="ca"?"Animals Actius":"Animales Activos",145,d+5,{align:"center"}),a.setFontSize(13),a.setTextColor(40,40,40),a.text(P.toString(),65,d+10,{align:"center"}),a.setTextColor(34,139,34),a.text(I.toString(),145,d+10,{align:"center"}),a.setFillColor(250,250,250),a.roundedRect(30,d+15,150,13,2,2,"F"),a.setFontSize(11),a.setTextColor(80,80,80),a.text(s==="ca"?"Toros Actius":"Toros Activos",55,d+20,{align:"center"}),a.text(s==="ca"?"Vaques Actives":"Vacas Activas",105,d+20,{align:"center"}),a.text(s==="ca"?"Vedells":"Terneros",155,d+20,{align:"center"}),a.setTextColor(51,102,204),a.text(O.toString(),55,d+25,{align:"center"}),a.setTextColor(233,30,99),a.text(V.toString(),105,d+25,{align:"center"}),a.setTextColor(255,152,0),a.text(W.toString(),155,d+25,{align:"center"}),a.setFillColor(250,250,250),a.roundedRect(30,d+30,70,13,2,2,"F"),a.setTextColor(80,80,80),a.text(s==="ca"?"Alletant":"Amamantando",45,d+35,{align:"center"}),a.setTextColor(3,169,244),a.text(m.toString(),75,d+35,{align:"center"}),u(a,{head:[i],body:N,startY:d+50,theme:"grid",styles:{fontSize:9,cellPadding:3},headStyles:{fillColor:[126,211,33],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]},columnStyles:{0:{cellWidth:20},1:{cellWidth:40},2:{cellWidth:25},3:{cellWidth:30},4:{cellWidth:35},5:{cellWidth:40}},margin:{top:70}});const B=a.internal.getNumberOfPages();for(let o=1;o<=B;o++)a.setPage(o),a.setFontSize(8),a.setTextColor(100,100,100),a.text("Masclet Imperi - "+(s==="ca"?"Sistema de Gestió Ramadera":"Sistema de Gestión Ganadera"),105,a.internal.pageSize.height-10,{align:"center"}),a.text(s==="ca"?`Pàgina ${o} de ${B}`:`Página ${o} de ${B}`,195,a.internal.pageSize.height-10,{align:"right"});const ge=`animales_${k||"todas"}_${new Date().toISOString().split("T")[0]}.pdf`;a.save(ge)}catch(t){console.error("Error al generar PDF:",t),alert(s==="ca"?"Error en generar el PDF":"Error al generar el PDF")}};return e.jsxs("div",{className:"w-full py-6",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-3 sm:p-4 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"mb-3 sm:mb-4",children:[e.jsx("h2",{className:"text-base sm:text-lg font-medium text-gray-900 dark:text-white mb-2 sm:mb-3",children:s==="ca"?"Cerca i Filtres":"Búsqueda y Filtros"}),e.jsx("p",{className:"text-xs sm:text-sm text-gray-600 dark:text-gray-300 mb-3 sm:mb-4",children:s==="ca"?"Utilitza els filtres per trobar explotacions específiques. Pots cercar per codi d'explotació.":"Utiliza los filtros para encontrar explotaciones específicas. Puedes buscar por código de explotación."})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:s==="ca"?"Cercar":"Buscar"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",id:"search-explotacion",value:w,onChange:t=>G(t.target.value),placeholder:s==="ca"?"Cercar per codi d'explotació...":"Buscar por código de explotación...",className:"w-full px-3 py-2 pl-9 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm focus:outline-none focus:ring-primary focus:border-primary dark:bg-gray-700 dark:text-white"}),e.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:e.jsx("svg",{className:"w-4 h-4 text-gray-500 dark:text-gray-400",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("button",{onClick:ie,className:"btn btn-primary",children:s==="ca"?"Cercar":"Buscar"}),e.jsx("button",{onClick:ce,className:"btn btn-secondary",children:s==="ca"?"Netejar":"Limpiar"})]})]})]}),K&&e.jsx("div",{className:"flex justify-center items-center py-10",children:e.jsx("div",{className:"spinner"})}),M&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-md mb-4",children:e.jsx("p",{children:M})}),!K&&!M&&e.jsxs(e.Fragment,{children:[e.jsx("div",{id:"explotacionCards",className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 mb-6",style:{display:k?"none":"grid"},children:Q.map(t=>e.jsxs("div",{className:"explotacion-card bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow duration-300 overflow-hidden w-full border border-gray-100 mb-4",onClick:()=>z(t.explotacio),children:[e.jsx("div",{className:"card-header bg-primary text-white p-3",children:e.jsx("h3",{className:"text-lg font-bold text-center",children:t.explotacio})}),e.jsxs("div",{className:"card-body p-4",children:[e.jsxs("div",{className:"grid grid-cols-2 mb-4 pb-3 border-b border-gray-100",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"stat-label font-bold text-gray-700 mb-2",children:s==="ca"?"Total Animals":"Total Animales"}),e.jsx("div",{className:"stat-value total font-bold text-2xl text-primary-dark",children:(t.toros||0)+(t.vacas||0)+(t.terneros||0)})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"stat-label font-bold text-gray-700 mb-2",children:s==="ca"?"Animals Actius":"Animales Activos"}),e.jsx("div",{className:"stat-value total font-bold text-2xl text-green-600",children:((t.toros_activos!==void 0?t.toros_activos:t.toros)||0)+((t.vacas_activas!==void 0?t.vacas_activas:t.vacas)||0)+(t.terneros||0)})]})]}),e.jsxs("div",{className:"animal-stats grid grid-cols-3 gap-1 text-center mb-3",children:[e.jsxs("div",{children:[e.jsx("div",{className:"stat-label font-medium",children:s==="ca"?"Toros Actius":"Toros Activos"}),e.jsx("div",{className:"stat-value toros font-bold text-primary",children:t.toros_activos!==void 0?t.toros_activos:t.toros||0})]}),e.jsxs("div",{children:[e.jsx("div",{className:"stat-label font-medium",children:s==="ca"?"Vaques Actives":"Vacas Activas"}),e.jsx("div",{className:"stat-value vacas font-bold text-pink-500",children:t.vacas_activas!==void 0?t.vacas_activas:t.vacas||0})]}),e.jsxs("div",{children:[e.jsx("div",{className:"stat-label font-medium",children:s==="ca"?"Vedells":"Terneros"}),e.jsx("div",{className:"stat-value terneros font-bold text-orange-500",children:t.terneros||0})]})]}),e.jsxs("div",{className:"card-footer grid grid-cols-3 gap-1 text-center pt-2 border-t border-gray-100",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"stat-label font-medium",children:s==="ca"?"Alletant":"Amamantando"}),e.jsx("div",{className:"font-bold text-blue-600",children:t.amamantando||0})]}),e.jsxs("div",{className:"col-span-2 text-center flex flex-col justify-center items-center",children:[e.jsx("div",{className:"stat-label font-medium",children:" "}),e.jsx("div",{children:e.jsxs("button",{className:"details-link text-green-600 font-medium hover:text-green-700 transition-colors",onClick:r=>{r.stopPropagation(),z(t.explotacio)},children:[s==="ca"?"Veure detalls":"Ver detalles"," →"]})})]})]})]})]},t.explotacio))}),e.jsxs("div",{id:"explotacion-detail",className:"hidden mb-6 bg-white dark:bg-gray-800 rounded-lg shadow p-4",style:{display:k?"block":"none"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 text-lg font-medium",children:[e.jsxs("h3",{className:"text-gray-900 dark:text-white",children:[s==="ca"?"Animals de":"Animales de"," ",e.jsx("span",{id:"explotacion-code",children:k})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("button",{id:"export-csv",className:"btn btn-primary text-sm flex items-center",onClick:xe,children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Exportar PDF"]}),e.jsxs("button",{id:"back-button",className:"btn btn-secondary text-sm flex items-center",onClick:de,children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 17l-5-5m0 0l5-5m-5 5h12"})}),s==="ca"?"Tornar":"Volver"]})]})]}),e.jsxs("ul",{className:"flex flex-wrap -mb-px text-sm font-medium text-center",children:[e.jsx("li",{className:"mr-2",children:e.jsxs("button",{className:`animal-tab inline-block p-2 border-b-2 ${C==="todos"?"border-primary text-primary dark:text-primary-light":"border-transparent hover:border-primary hover:text-primary dark:hover:text-primary-light"}`,"data-category":"todos",onClick:()=>F("todos"),children:[s==="ca"?"Tots els animals":"Todos los animales"," ",e.jsx("span",{className:"tab-count ml-1 bg-primary-light/20 px-1.5 py-0.5 rounded-full text-xs",children:f.length})]})}),e.jsx("li",{className:"mr-2",children:e.jsxs("button",{className:`animal-tab inline-block p-2 border-b-2 ${C==="toros"?"border-primary text-primary dark:text-primary-light":"border-transparent hover:border-primary hover:text-primary dark:hover:text-primary-light"}`,"data-category":"toros",onClick:()=>F("toros"),children:["Toros"," ",e.jsx("span",{className:"tab-count ml-1 bg-primary-light/20 px-1.5 py-0.5 rounded-full text-xs",children:te.toros})]})}),e.jsx("li",{className:"mr-2",children:e.jsxs("button",{className:`animal-tab inline-block p-2 border-b-2 ${C==="vacas-amam"?"border-primary text-primary dark:text-primary-light":"border-transparent hover:border-primary hover:text-primary dark:hover:text-primary-light"}`,"data-category":"vacas-amam",onClick:()=>F("vacas-amam"),children:[s==="ca"?"Vaques alletant":"Vacas amamantando"," ",e.jsx("span",{className:"tab-count ml-1 bg-primary-light/20 px-1.5 py-0.5 rounded-full text-xs",children:f.filter(t=>t.genere==="F"&&["1",1,"2",2].includes(t.alletar)).length})]})}),e.jsx("li",{className:"mr-2",children:e.jsxs("button",{className:`animal-tab inline-block p-2 border-b-2 ${C==="vacas-no-amam"?"border-primary text-primary dark:text-primary-light":"border-transparent hover:border-primary hover:text-primary dark:hover:text-primary-light"}`,"data-category":"vacas-no-amam",onClick:()=>F("vacas-no-amam"),children:[s==="ca"?"Vaques sense alletar":"Vacas no amamantando"," ",e.jsx("span",{className:"tab-count ml-1 bg-primary-light/20 px-1.5 py-0.5 rounded-full text-xs",children:f.filter(t=>t.genere==="F"&&(["0",0].includes(t.alletar)||t.alletar===null)).length})]})})]}),e.jsx("div",{className:"mt-4",children:me()})]})]})]})};export{ye as default};
